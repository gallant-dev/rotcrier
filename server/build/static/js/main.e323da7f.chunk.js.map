{"version":3,"sources":["components/SignUp.js","components/Login.js","components/UserSettings.js","components/AccountControls.js","components/Menu.js","components/Header.js","images/shit.png","images/no-shit.png","components/Shit.js","components/Home.js","components/TopPosts.js","components/NewPosts.js","components/Search.js","components/SectionForm.js","images/icons8-edit-48.png","images/icons8-delete-96.png","components/Section.js","components/PostForm.js","components/CommentForm.js","components/Comment.js","components/Post.js","components/User.js","App.js","reportWebVitals.js","index.js"],"names":["SignUp","props","useState","show","setShow","warning","setWarning","handleClose","submitHandler","event","a","preventDefault","form","target","elements","fetch","method","headers","body","JSON","stringify","displayName","displayNameInput","value","email","emailInput","password","passwordInput","credentials","then","response","isJson","get","includes","json","data","ok","error","message","status","Promise","reject","sessionStorage","setItem","id","session","onLogin","console","log","catch","Button","variant","onClick","Modal","onHide","backdrop","keyboard","Header","Title","Body","Form","onSubmit","Group","controlId","Label","Control","type","placeholder","Text","className","Footer","style","color","Login","UserSettings","getItem","logout","sessionId","onLogout","NavDropdown","title","Item","onChangeFocus","name","AccountControls","isLoggedIn","setIsLoggedIn","userLoggedIn","setLoggedIn","useEffect","viewFocus","setLoggedOut","ButtonGroup","Menu","memberships","map","section","item","onUpdateMemberSections","fetchData","focusHandler","onFocusChange","length","substring","selection","Divider","memberSections","Navbar","collapseOnSelect","expand","bg","sticky","Container","Brand","href","Toggle","Collapse","Nav","clear","onSearch","params","searchHandler","FormControl","Shit","shits","setShits","shitFor","shitGiven","setShitGiven","url","i","UserId","clickShitHandler","PostId","CommentId","window","alert","OverlayTrigger","placement","delay","hide","overlay","Tooltip","renderTooltip","Image","fluid","src","shitIcon","noShitIcon","Home","setUser","posts","setPosts","postArray","Posts","flat","sort","b","Date","updatedAt","pageCount","Math","ceil","items","number","push","Pagination","active","post","Card","Row","Col","xs","sm","md","lg","xl","toString","TopPosts","Shits","index","NewPosts","createdAt","Search","search","setUserId","sections","setSections","users","setUsers","encodeURIComponent","Sections","Users","description","user","SectionForm","sectionTitle","as","rows","Section","setSection","setMemberships","moderator","setModerator","isMember","setIsMember","userId","editing","setEditing","members","membership","membershipCheck","submitEditHandler","editingButtonHandler","deleteButtonHandler","confirm","joinButtonClickHandler","onMakePost","required","defaultValue","width","height","editIcon","alt","deleteIcon","PostForm","postTitle","normalize","defaultSection","CommentForm","commentTarget","onCommentSubmit","reset","Comment","comment","setComment","comments","setComments","showCommentForm","setShowCommentForm","showComment","setShowComment","Comments","commentArray","commentTargetHandler","onCommentTargetChange","CommentBody","text","replace","hyperlink","match","parse","User","Post","setPost","creator","setCreator","setCommentTarget","postOnlyCommentArray","filter","SectionId","xxl","postShits","setPostShits","commentShits","setCommentShits","shitCount","userData","parent","withRouter","focus","setFocus","setMemberSections","setSearch","setDefaultSection","history","useHistory","focusChangeHandler","newFocus","location","newParams","clean","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e323da7f.chunk.js","sourcesContent":["import { useState } from 'react'\r\nimport { Button, Modal, Form } from 'react-bootstrap'\r\n\r\nfunction SignUp(props) {\r\n    const [show, setShow] = useState(false)\r\n    const [warning, setWarning] = useState(\"\")\r\n\r\n    const handleClose = () => {\r\n        setWarning(\"\")\r\n        setShow(false)\r\n    }\r\n\r\n    const handleShow = () => setShow(true);\r\n\r\n    const submitHandler = async(event) => {\r\n        event.preventDefault();\r\n        const form = event.target.elements\r\n        await fetch('/users', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                displayName: form.displayNameInput.value,\r\n                email: form.emailInput.value,\r\n                password: form.passwordInput.value\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok) {\r\n                // get error message from body or default to response status\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            sessionStorage.setItem('id', data.id)\r\n            sessionStorage.setItem('displayName', data.displayName)\r\n            sessionStorage.setItem('session', data.session)\r\n            props.onLogin();\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <>\r\n      <Button variant=\"primary\" onClick={handleShow}>\r\n        Sign up\r\n      </Button>\r\n\r\n      <Modal\r\n        show={show}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n      >\r\n        <Modal.Header>\r\n          <Modal.Title>Sign up</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Form onSubmit={event =>submitHandler(event)}>\r\n            <Form.Group controlId=\"displayNameInput\">\r\n                <Form.Label>Display name</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Enter display name\" />\r\n                <Form.Text className=\"text-muted\">\r\n                This will be your identity with your fellow shit givers.\r\n                </Form.Text>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"emailInput\">\r\n                <Form.Label>Email address</Form.Label>\r\n                <Form.Control type=\"email\" placeholder=\"Enter email\" />\r\n                <Form.Text className=\"text-muted\">\r\n                We'll never share your email with anyone else.\r\n                </Form.Text>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"passwordInput\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control type=\"password\" placeholder=\"Password\" />\r\n            </Form.Group>\r\n            <Modal.Footer>\r\n                <Form.Label style={{color: \"red\"}}>\r\n                    {warning}\r\n                </Form.Label>\r\n                <Button variant=\"primary\" onClick={handleClose}>\r\n                    Close\r\n                </Button>\r\n                <Button variant=\"primary\" type=\"submit\">Submit</Button>\r\n                </Modal.Footer>\r\n            </Form> \r\n        </Modal.Body>\r\n      </Modal>\r\n    </>\r\n    );\r\n}\r\n\r\nexport default SignUp;","import { useState } from 'react'\r\nimport { Button, Modal, Form } from 'react-bootstrap'\r\n\r\nfunction Login(props) {\r\n    const [show, setShow] = useState(false)\r\n    const [warning, setWarning] = useState(\"\")\r\n\r\n    const handleClose = () => {\r\n        setWarning(\"\")\r\n        setShow(false)\r\n    }\r\n\r\n    const handleShow = () => setShow(true);\r\n\r\n    const submitHandler = async(event) => {\r\n        event.preventDefault();\r\n        const form = event.target.elements\r\n        await fetch('/users/login', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                displayName: form.displayNameInput.value,\r\n                password: form.passwordInput.value\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok) {\r\n                // get error message from body or default to response status\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            sessionStorage.setItem('id', data.id)\r\n            sessionStorage.setItem('displayName', data.displayName)\r\n            sessionStorage.setItem('session', data.session)\r\n            props.onLogin();\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <>\r\n      <Button variant=\"primary\" onClick={handleShow}>\r\n        Sign in\r\n      </Button>\r\n\r\n      <Modal\r\n        show={show}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n      >\r\n        <Modal.Header>\r\n          <Modal.Title>Sign in</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Form onSubmit={event =>submitHandler(event)}>\r\n            <Form.Group controlId=\"displayNameInput\">\r\n                <Form.Label>Display name</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Enter display name\" />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"passwordInput\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control type=\"password\" placeholder=\"Password\" />\r\n            </Form.Group>\r\n            <Modal.Footer>\r\n                <Form.Label style={{color: \"red\"}}>\r\n                    {warning}\r\n                </Form.Label>\r\n                <Button variant=\"primary\" onClick={handleClose}>\r\n                    Close\r\n                </Button>\r\n                <Button variant=\"primary\" type=\"submit\">Submit</Button>\r\n                </Modal.Footer>\r\n            </Form> \r\n        </Modal.Body>\r\n      </Modal>\r\n    </>\r\n    );\r\n}\r\n\r\nexport default Login;","import { NavDropdown } from 'react-bootstrap'\r\n\r\nfunction UserSettings(props) {\r\n    let displayName = sessionStorage.getItem(\"displayName\")\r\n    const logout = async() => {\r\n        await fetch('/users/logout', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                displayName: sessionStorage.getItem('displayName'),\r\n                sessionId: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok) {\r\n                // get error message from body or default to response status\r\n                const error = (data && data.message) || response.status;\r\n                return Promise.reject(error);\r\n            }\r\n\r\n            props.onLogout();\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <NavDropdown title={displayName} id=\"collapsible-nav-dropdown\">\r\n            <NavDropdown.Item onClick={() => props.onChangeFocus({type: 'user', name: displayName})}>Profile</NavDropdown.Item>\r\n            <NavDropdown.Item onClick={() => logout()}>Logout</NavDropdown.Item>\r\n        </NavDropdown>\r\n    );\r\n}\r\n\r\nexport default UserSettings","import { Nav, Button, ButtonGroup } from 'react-bootstrap'\r\nimport { useState, useEffect } from 'react'\r\nimport SignUp from './SignUp'\r\nimport Login from './Login'\r\nimport UserSettings from './UserSettings'\r\n\r\nfunction AccountControls(props) {\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false)\r\n\r\n    const userLoggedIn = () => {\r\n        setIsLoggedIn(true);\r\n        props.setLoggedIn()\r\n    }\r\n\r\n    const userLoggedout = () => {\r\n        setIsLoggedIn(false);\r\n        props.setLoggedOut()\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(sessionStorage.getItem('session')){\r\n            userLoggedIn();\r\n        }\r\n\r\n    }, [props.viewFocus])\r\n\r\n    if(!isLoggedIn){\r\n        return (\r\n            <ButtonGroup>\r\n                <Login onLogin={userLoggedIn}/>\r\n                <SignUp onLogin={userLoggedIn}/>\r\n            </ButtonGroup>\r\n        );\r\n    }\r\n    return (\r\n        <UserSettings onChangeFocus={props.onChangeFocus} onLogout={userLoggedout}/>\r\n    );\r\n}\r\n\r\nexport default AccountControls;","import { NavDropdown } from 'react-bootstrap'\r\nimport { useState, useEffect } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nfunction Menu(props) {\r\n    const alwaysVisibleSelections = [\r\n        {type: 'menu', name: 'Home'}, \r\n        {type: 'menu', name: 'Top Posts'}, \r\n        {type: 'menu', name: 'New Posts'}\r\n    ]\r\n    const loggedInOnlySelections = [\r\n        {type: 'menu', name: 'Create a new section'}, \r\n        {type: 'menu', name: 'Create a new post'}\r\n    ]\r\n\r\n    useEffect(() => {\r\n        if(props.isLoggedIn){\r\n            const displayName = sessionStorage.getItem('displayName')\r\n            const fetchData = async() => {\r\n                await fetch('/sections/'+displayName+'/memberships', {\r\n                    method: 'GET',\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    credentials: 'include'\r\n                })\r\n                .then(async response => {\r\n                    const isJson = response.headers.get('content-type')?.includes('application/json');\r\n                    const data = isJson && await response.json();\r\n                    \r\n        \r\n                    // check for error response\r\n                    if (!response.ok) {\r\n                        // get error message from body or default to response status \r\n                        const error = (data && data.message) || response.status;\r\n                        return Promise.reject(error);\r\n                    }\r\n                    const memberships = data.map(section => {\r\n                        const item = {}\r\n                        item.type = 'section'\r\n                        item.name = section.title\r\n                        return item\r\n                    })\r\n                    props.onUpdateMemberSections(memberships)\r\n                    console.log(memberships);\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error! ', error);\r\n                })\r\n            }\r\n            fetchData();\r\n        }\r\n\r\n    }, [props.isLoggedIn, props.viewFocus])\r\n    \r\n\r\n    const focusHandler = (value) => {\r\n        props.onFocusChange(value)\r\n    }\r\n\r\n    return(\r\n        <NavDropdown title={ props.viewFocus.name &&\r\n            props.viewFocus.name.length > 25 ?\r\n            props.viewFocus.name.substring(0, 25)+'...' :\r\n            props.viewFocus.name\r\n            }\r\n            id=\"collapsible-nav-dropdown\">\r\n            {alwaysVisibleSelections.map( selection => selection !== props.viewFocus &&\r\n                <NavDropdown.Item key={selection.type+selection.name} onClick={event => focusHandler(selection)}>{selection.name}</NavDropdown.Item> \r\n            )}\r\n            {props.isLoggedIn && <NavDropdown.Divider />}\r\n            {props.isLoggedIn && loggedInOnlySelections.map( selection => selection !== props.viewFocus &&\r\n                <NavDropdown.Item key={selection.type+selection.name} onClick={event => focusHandler(selection)}>{selection.name}</NavDropdown.Item> \r\n            )}\r\n            {props.memberSections.length > 0 && <NavDropdown.Divider />}\r\n            {(props.memberSections.length > 0) && props.memberSections.map( section => section !== props.viewFocus &&\r\n                <NavDropdown.Item key={section.type+section.name} onClick={event => focusHandler(section)}>{\r\n                    section.name.length > 25 ?\r\n                    section.name.substring(0, 25)+'...' :\r\n                    section.name\r\n                    }\r\n                </NavDropdown.Item> \r\n            )}\r\n        </NavDropdown>\r\n    );\r\n}\r\n\r\nexport default Menu","import { Navbar, Nav, Form, FormControl, Button, Row, Container, } from 'react-bootstrap'\r\nimport { useState } from 'react'\r\nimport AccountControls from './AccountControls'\r\nimport Menu from './Menu'\r\n\r\nfunction Header(props) {\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false)\r\n\r\n    const focusHandler = (value) => {\r\n        props.onFocusChange(value)\r\n    }\r\n\r\n    const loginHandler = () => {\r\n        setIsLoggedIn(true)\r\n    }\r\n\r\n    const logoutHandler  = () => {\r\n        setIsLoggedIn(false)\r\n        focusHandler({type: 'menu', name: 'Home'})\r\n        sessionStorage.clear()\r\n    }\r\n\r\n    const searchHandler = (event) => {\r\n        event.preventDefault()\r\n        focusHandler({type: 'search', name: 'Search'})\r\n        props.onSearch(event.target.elements.params.value)\r\n    }\r\n\r\n    return (\r\n    \r\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" sticky=\"top\">\r\n        <Container>\r\n        <Navbar.Brand href=\"#home\">rotcrier</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n            <Nav className=\"mr-auto\">\r\n                <Menu isLoggedIn={isLoggedIn} onUpdateMemberSections={props.onUpdateMemberSections} onFocusChange={focusHandler} memberSections={props.memberSections} viewFocus={props.viewFocus} />\r\n            </Nav>\r\n            <Nav>\r\n                <AccountControls onChangeFocus={focusHandler} setLoggedIn={loginHandler} setLoggedOut={logoutHandler}/>\r\n            </Nav>\r\n        </Navbar.Collapse>\r\n        <Nav>\r\n            <Form className=\"d-flex\" onSubmit={event => searchHandler(event)}>\r\n                <Form.Group className=\"me-1\" controlId=\"params\">\r\n                    <FormControl\r\n                        type=\"search\"\r\n                        placeholder=\"Search\"\r\n                        className=\"mr-sm-2 me-1 \"\r\n                        aria-label=\"Search\"\r\n                    />\r\n                    </Form.Group>\r\n                    <Button variant=\"primary\" type=\"submit\">Search</Button>\r\n            </Form>\r\n        </Nav>\r\n        </Container>\r\n    </Navbar>\r\n    );\r\n}\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/shit.9c5175aa.png\";","export default __webpack_public_path__ + \"static/media/no-shit.4775112b.png\";","import { useState, useEffect } from 'react'\r\nimport { Image, OverlayTrigger, Tooltip } from 'react-bootstrap'\r\nimport shitIcon from '../images/shit.png'\r\nimport noShitIcon from '../images/no-shit.png'\r\n\r\nfunction Shit(props){\r\n    const[shits, setShits] = useState([])\r\n    const[shitFor, setShitFor] = useState(props.shitFor)\r\n    const[shitGiven, setShitGiven] = useState(false)\r\n\r\n    const fetchData = async() => {\r\n        const url = '/shits/'+shitFor.type+'/'+shitFor.id\r\n        await fetch(url, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },  \r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok && (response.status != 409)) {\r\n                // get error message from body or default to response status \r\n                const error = (data && data.message) || response.status;\r\n                console.log(error)\r\n                return Promise.reject(error);\r\n            }     \r\n            let shitGiven = false\r\n            for(let i = 0; i < data.length; i++){\r\n                if(data[i].UserId == sessionStorage.getItem('id')){\r\n                    shitGiven = true\r\n                }\r\n            }\r\n            setShits(data)\r\n            setShitGiven(shitGiven)\r\n\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n\r\n    }, [props.viewFocus])\r\n\r\n    const clickShitHandler = async() => {\r\n        const UserId = sessionStorage.getItem('id')\r\n        const PostId = shitFor.type == 'post' ? shitFor.id : null\r\n        const CommentId = shitFor.type == 'comment' ? shitFor.id : null\r\n        console.log(PostId+' '+CommentId)\r\n        if(!UserId){\r\n            return window.alert(\"You must be logged in to give a shit!\")\r\n        }\r\n        if(!shitGiven){\r\n            await fetch('/shits', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    UserId: UserId,\r\n                    PostId: PostId,\r\n                    CommentId: CommentId,\r\n                    sessionId: sessionStorage.getItem('session')\r\n                }),\r\n                credentials: 'include'\r\n            })\r\n            .then(async response => {\r\n                const isJson = response.headers.get('content-type')?.includes('application/json');\r\n                const data = isJson && await response.json();\r\n                \r\n        \r\n                //If the response is not okay (200).\r\n                if (!response.ok) {\r\n                    //Display error message on the UI by setting the warning, and reject.\r\n                    const error = (data && data.message) || response.status;\r\n                    if(error == 409){\r\n                        setShitGiven(true)\r\n                    }\r\n                    return Promise.reject(error);\r\n                }\r\n                //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n                //the data to the console.\r\n                fetchData()\r\n                setShitGiven(true)\r\n                console.log(data);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error! ', error);\r\n            })\r\n        }\r\n        else{\r\n            await fetch('/shits', {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    UserId: UserId,\r\n                    PostId: PostId,\r\n                    CommentId: CommentId,\r\n                    sessionId: sessionStorage.getItem('session')\r\n                }),\r\n                credentials: 'include'\r\n            })\r\n            .then(async response => {\r\n                const isJson = response.headers.get('content-type')?.includes('application/json');\r\n                const data = isJson && await response.json();\r\n                \r\n        \r\n                //If the response is not okay (200).\r\n                if (!response.ok) {\r\n                    //Display error message on the UI by setting the warning, and reject.\r\n                    const error = (data && data.message) || response.status;\r\n                    return Promise.reject(error);\r\n                }\r\n                //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n                //the data to the console.\r\n                fetchData()\r\n                setShitGiven(false)\r\n                console.log(data);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error! ', error);\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    const renderTooltip = (shitGiven) => (\r\n        <Tooltip id=\"shit-tooltip\" {...props}>\r\n          {!shitGiven ? 'Do you give a shit?' : 'Shit given!'}\r\n        </Tooltip>\r\n      );\r\n      \r\n\r\n    return(\r\n        <>\r\n            {<h6 className=\"mb-1 p-0 text-center\">{shits.length}</h6>}\r\n            <OverlayTrigger\r\n            placement=\"right\"\r\n            delay={{ show: 250, hide: 400 }}\r\n            overlay={renderTooltip(shitGiven)}>\r\n                <div className=\"text-center\">\r\n                    <Image className=\"ps-1 max-25px\" onClick={() => clickShitHandler()} fluid src={shitGiven ? shitIcon : noShitIcon} />\r\n                </div>\r\n            </OverlayTrigger>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default Shit","import { useEffect, useState } from 'react'\r\nimport { Container, Pagination, Card, Row, Col } from 'react-bootstrap'\r\nimport Shit from './Shit'\r\n\r\nfunction Home(props){\r\n    const [user, setUser] = useState()\r\n    const [posts, setPosts] = useState([])\r\n\r\n    const fetchData = async(displayName) => {\r\n        console.log(displayName)\r\n        if(displayName != null){\r\n            await fetch('/users/'+displayName+'/memberships/posts/0/25', {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                credentials: 'include'\r\n            })\r\n            .then(async response => {\r\n                const isJson = response.headers.get('content-type')?.includes('application/json');\r\n                const data = isJson && await response.json();\r\n                \r\n    \r\n                // check for error response\r\n                if (!response.ok) {\r\n                    // get error message from body or default to response status \r\n                    const error = (data && data.message) || response.status;\r\n                    return Promise.reject(error);\r\n                }\r\n                setUser(data)\r\n                const postArray = data.memberships.map(section => section.Posts).flat().sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt))\r\n                setPosts(postArray)\r\n                if(postArray.length == 0){\r\n                    props.onFocusChange({type: 'menu', name: 'Top Posts'})\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('Error! ', error);\r\n            })\r\n\r\n        }\r\n        else {\r\n            await fetch('/posts/unauth/0/25', {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                credentials: 'include'\r\n            })\r\n            .then(async response => {\r\n                const isJson = response.headers.get('content-type')?.includes('application/json');\r\n                const data = isJson && await response.json();\r\n                \r\n    \r\n                // check for error response\r\n                if (!response.ok) {\r\n                    // get error message from body or default to response status \r\n                    const error = (data && data.message) || response.status;\r\n                    return Promise.reject(error);\r\n                }\r\n                const postArray = data.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt))\r\n                setPosts(postArray)\r\n            })\r\n            .catch(error => {\r\n                console.error('Error! ', error);\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        const displayName = sessionStorage.getItem('displayName')\r\n        if(displayName){         \r\n            fetchData(displayName)\r\n        }\r\n        else {\r\n            fetchData(null)\r\n        }\r\n\r\n    }, [props.isLoggedIn, props.viewFocus])\r\n    \r\n    const pageCount = () => {\r\n        const pageCount = Math.ceil(props.memberSections.length/25)\r\n        return pageCount\r\n    }\r\n\r\n    let active = 1;\r\n    let items = [];\r\n    for (let number = 1; number <= pageCount(); number++) {\r\n        items.push(\r\n            <Pagination.Item key={number} active={number === active}>\r\n            {number}\r\n            </Pagination.Item>,\r\n        );\r\n    }\r\n\r\n    return(\r\n        <>\r\n\r\n        <Container>\r\n        <h2>Recent Updates</h2>\r\n            {(posts.length > 0) &&\r\n               posts.map(post =>\r\n                <Card key={post.id+post.title}>\r\n                <Card.Body>\r\n                    <Row>\r\n                        <Col xs={4} sm={2} md={2} lg={2} xl={2}>\r\n                            <Shit shitFor={{type: 'post', id: post.id.toString()}} />\r\n                        </Col>\r\n                        <Col xs={8} sm={10} md={10} lg={9} xl={8} onClick={event => props.onFocusChange({type: 'post', name: post.title})}>\r\n                            <Card.Title>{\r\n                            post.title.length > 125 ?\r\n                            post.title.substring(0, 125)+'...' :\r\n                            post.title\r\n                            }\r\n                            </Card.Title>\r\n                            <Card.Text>\r\n                            {\r\n                                post.body.length > 125 ?\r\n                                post.body.substring(0, 125)+'...' :\r\n                                post.body\r\n                                }\r\n                            </Card.Text>                          \r\n                        </Col>\r\n                    </Row>\r\n                </Card.Body>\r\n            </Card> \r\n                )\r\n            }\r\n        </Container>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Home","import { useEffect, useState } from 'react'\r\nimport { Container, Card, Row, Col } from 'react-bootstrap'\r\nimport Shit from './Shit'\r\n\r\nfunction TopPosts(props){\r\n    const [user, setUser] = useState()\r\n    const [posts, setPosts] = useState([])\r\n\r\n    const fetchData = async() => {\r\n        await fetch('/posts/unauth/0/25', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok) {\r\n                // get error message from body or default to response status \r\n                const error = (data && data.message) || response.status;\r\n                return Promise.reject(error);\r\n            }\r\n            const postArray = data.sort((a, b) => b.Shits.length - a.Shits.length)\r\n            setPosts(postArray)\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n\r\n    }, [props.isLoggedIn, props.viewFocus])\r\n    \r\n\r\n\r\n    return(\r\n        <>\r\n\r\n        <Container>\r\n        <h2>Top Posts</h2>\r\n            {(posts.length > 0) &&          \r\n               posts.map((post, index) =>\r\n               <Row>\r\n                   <Col xs={1} sm={1} md={1} lg={1} xl={1} >\r\n                       <Row>\r\n                       <h6 className=\"h-100 pl-75 .pt-30\">{index+1}</h6>\r\n                       </Row>\r\n                   </Col>\r\n                   <Col xs={11} sm={11} md={11} lg={11} xl={11}>\r\n                        <Card key={post.id+post.title}>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    <Col xs={2} sm={2} md={2} lg={2} xl={2}>\r\n                                        <Shit shitFor={{type: 'post', id: post.id}} />\r\n                                    </Col>\r\n                                    <Col xs={10} sm={10} md={10} lg={9} xl={8} onClick={event => props.onFocusChange({type: 'post', name: post.title})}>\r\n                                        <Card.Title>{\r\n                                        post.title.length > 125 ?\r\n                                        post.title.substring(0, 125)+'...' :\r\n                                        post.title\r\n                                        }\r\n                                        </Card.Title>\r\n                                        <Card.Text>\r\n                                        {\r\n                                            post.body.length > 125 ?\r\n                                            post.body.substring(0, 125)+'...' :\r\n                                            post.body\r\n                                            }\r\n                                        </Card.Text>                          \r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Card> \r\n                   </Col>\r\n               </Row>\r\n                )\r\n            }\r\n        </Container>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default TopPosts","import { useEffect, useState } from 'react'\r\nimport { Container, Row, Col, Card } from 'react-bootstrap'\r\nimport Shit from './Shit'\r\n\r\nfunction NewPosts(props){\r\n    const [user, setUser] = useState()\r\n    const [posts, setPosts] = useState([])\r\n\r\n    const fetchData = async() => {\r\n        await fetch('/posts/unauth/0/25', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok) {\r\n                // get error message from body or default to response status \r\n                const error = (data && data.message) || response.status;\r\n                return Promise.reject(error);\r\n            }\r\n            console.log(data)\r\n            const postArray = data.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))\r\n            console.log(postArray)\r\n            setPosts(data)\r\n            console.log(data)\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n\r\n    }, [props.isLoggedIn, props.viewFocus])\r\n    \r\n\r\n    return(\r\n        <>\r\n\r\n        <Container>\r\n        <h2>New Posts</h2>\r\n            {(posts.length > 0) &&\r\n            \r\n               posts.map(post =>\r\n                    <Card key={post.id+post.title}>\r\n                    <Card.Body>\r\n                        <Row>\r\n                            <Col sm={1}>\r\n                                <Shit shitFor={{type: 'post', id: post.id.toString()}} />\r\n                            </Col>\r\n                            <Col onClick={event => props.onFocusChange({type: 'post', name: post.title})}>\r\n                                <Card.Title>{\r\n                                post.title.length > 125 ?\r\n                                post.title.substring(0, 125)+'...' :\r\n                                post.title\r\n                                }\r\n                                </Card.Title>\r\n                                <Card.Text>\r\n                                {\r\n                                    post.body.length > 125 ?\r\n                                    post.body.substring(0, 125)+'...' :\r\n                                    post.body\r\n                                    }\r\n                                </Card.Text>                          \r\n                            </Col>\r\n                        </Row>\r\n                    </Card.Body>\r\n                </Card> \r\n                )\r\n            }\r\n        </Container>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default NewPosts","import { useEffect, useState } from 'react'\r\nimport { Card, Row, Col, Image, Container, Button, Form } from 'react-bootstrap'\r\nimport Shit from './Shit'\r\n\r\n\r\nfunction Search(props){\r\n    console.log(props.search)\r\n    const [userId, setUserId] = useState()\r\n    const [sections, setSections] = useState([])\r\n    const [posts, setPosts] = useState([])\r\n    const [users, setUsers] = useState([])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async() => {\r\n            const url = '/search/'+encodeURIComponent(props.search)\r\n            await fetch(url, {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                credentials: 'include'\r\n            })\r\n            .then(async response => {\r\n                const isJson = response.headers.get('content-type')?.includes('application/json');\r\n                const data = isJson && await response.json();\r\n                \r\n    \r\n                // check for error response\r\n                if (!response.ok) {\r\n                    // get error message from body or default to response status \r\n                    const error = (data && data.message) || response.status;\r\n                    return Promise.reject(error);\r\n                }\r\n                console.log(data);\r\n                setUserId(sessionStorage.getItem('id'))\r\n                setSections(data.Sections)\r\n                const postArray = data.Posts.sort((a, b) => b.Shits.length - a.Shits.length)\r\n                setPosts(postArray)\r\n                setUsers(data.Users)\r\n\r\n            })\r\n            .catch(error => {\r\n                console.error('Error! ', error);\r\n            })\r\n        }\r\n        \r\n        fetchData();\r\n\r\n    }, [props.viewFocus])\r\n\r\n    return(\r\n        <Container>\r\n            <Row>\r\n                <Col xs={12} sm={12} md={12} lg={7} xl={6}>\r\n                    <h2>Posts</h2>\r\n                    {(posts.length > 0 ) ?\r\n                        posts.map( post => \r\n                            <Card key={post.id+post.title} onClick={event => props.onFocusChange({type: 'post', name: post.title})}>\r\n                                <Card.Body>\r\n                                    <Row>\r\n                                            <Col xs={2} sm={2} md={2} lg={2} xl={2}>\r\n                                                <Shit shitFor={{type: 'post', id: post.id}} />\r\n                                            </Col>\r\n                                            <Col xs={10} sm={10} md={10} lg={9} xl={8}>\r\n                                                <Card.Title>{\r\n                                                    post.title.length > 125 ?\r\n                                                    post.title.substring(0, 125)+'...' :\r\n                                                    post.title\r\n                                                    }\r\n                                                </Card.Title>\r\n                                                <Card.Text>\r\n                                                {\r\n                                                    post.body.length > 125 ?\r\n                                                    post.body.substring(0, 125)+'...' :\r\n                                                    post.body\r\n                                                    }\r\n                                                </Card.Text>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                </Card.Body>\r\n                            </Card> \r\n                        ) : \"0 found\"}\r\n                </Col>\r\n                <Col xs={12} sm={12} md={6} lg={5} xl={3} className=\"pt-2\">\r\n                    <h2>Sections</h2>\r\n                    {(sections.length > 0 ) ?\r\n            sections.map( section => \r\n                <Card key={section.id+section.title} onClick={event => props.onFocusChange({type: 'section', name: section.title})}>\r\n                    <Card.Body>\r\n                        <Card.Title>{\r\n                            section.title.length > 125 ?\r\n                            section.title.substring(0, 125)+'...' :\r\n                            section.title\r\n                            }\r\n                        </Card.Title>\r\n                        <Card.Text>\r\n                        {\r\n                            section.description.length > 125 ?\r\n                            section.description.substring(0, 125)+'...' :\r\n                            section.description\r\n                            }\r\n                        </Card.Text>\r\n                    </Card.Body>\r\n                </Card> \r\n            ) : \"0 found\"}\r\n                </Col>\r\n                <Col xs={12} sm={12} md={6} lg={6} xl={3} className=\"pt-2\">\r\n                    <h2>Users</h2>\r\n                            {(users.length > 0 ) ?\r\n                    users.map( user => \r\n                        <Card key={user.id+user.displayName} onClick={event => props.onFocusChange({type: 'user', name: user.displayName})}>\r\n                            <Card.Body>\r\n                                <Card.Title>{\r\n                                    user.displayName.length > 125 ?\r\n                                    user.displayName.substring(0, 125)+'...' :\r\n                                    user.displayName\r\n                                    }\r\n                                </Card.Title>\r\n                            </Card.Body>\r\n                        </Card> \r\n                    ) : \"0 found\" }      \r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Search","import { Form, Button, Container, Row, Col } from 'react-bootstrap'\r\nimport { useState } from 'react'\r\n\r\n\r\n//The funcionality behind section creation. Users create sections which their peers and themselves can post\r\n//things that they don't like. This form makes a fetch request to the API to confirm credentials, and create\r\n//a new custom section with them. \r\nfunction SectionForm(props) {\r\n    //A default empty warning state that can be used to populate warnings displayed in response from the server.\r\n    const [warning, setWarning] = useState(\"\")\r\n\r\n    //The submitHandler is an async function that makes a fetch request to the api, and confirms validitiy of session\r\n    //credentials and creates a new session if authorized.\r\n    const submitHandler = async(event) => {\r\n        //Prevent the default page refresh on submit.\r\n        event.preventDefault();\r\n        //Create a form object containing the elements.\r\n        const form = event.target.elements\r\n\r\n        await fetch('/sections', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                title: form.sectionTitle.value,\r\n                description: form.description.value,\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            console.log(data.title)\r\n            props.onFocusChange({type: 'section', name: data.title})\r\n            setWarning(\"\")\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    //Sets the focus to \"Home\" on cancellation.\r\n    const cancelHandler = () => {\r\n        props.onFocusChange({type: 'menu', name: \"Home\"})\r\n    }\r\n    \r\n    return(\r\n        <Container>\r\n            <Row className=\"justify-content-center\">\r\n                <Col  xs={12} sm={12} md={8} lg={8} xl={6}>\r\n                    <Form onSubmit={event => submitHandler(event)}>\r\n                        <Form.Group controlId=\"sectionTitle\">\r\n                            <Form.Label>Title</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Your new section's title\" />\r\n                            <Form.Label style={{color: \"red\"}}>\r\n                                {warning}\r\n                            </Form.Label>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"description\">\r\n                            <Form.Label>Description</Form.Label>\r\n                            <Form.Control as=\"textarea\" rows={8} placeholder=\"A brief description of the section\" />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formButtons\">\r\n                            <Button variant=\"primary\" className=\"m-2\" onClick={cancelHandler}>\r\n                                Cancel\r\n                            </Button>\r\n\r\n                            <Button variant=\"primary\" className=\"m-2\" type=\"submit\">\r\n                                Submit\r\n                            </Button>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n\r\n    );\r\n}\r\nexport default SectionForm","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAB0UlEQVRoge2YsUrDQBjHf4mCbsXVd3CK4KibvoE4CuUyd6+YgHvnHgUfQ4ovYMGuvoEP0E1BGocYiEdySZrk7sT8x+O+4/e7fhfoB0OG/O94tgHyEUJMgDvg3fO82/l8/lpV44yAECIC7nNLm+12e7VYLF50dU4IFMBnqZSwLqCBz6KVsCpQAv8JHChrG+BSSrlSz/B7YqtMCfwGOAdiZX0ELMMwPFXP2e8HTx8NfHbLKyEEyp5RkiSPwEm+yPgvoOn5mdIiT8CHsudYLTIqUPFgp2EYXv/sOwOWwKGy50EtMvaIa3xtAL5IISekfZ9PLKWM1AIjApqenwFTqt9iITwYaKGKBxt7nndDevNlicrgAfY6YCxNja8N6/X6LQgCH7goOCKWUqqf1F/prYXqwAOMx+PA9/1n4EjZG1XBQ08CpuChBwGT8NCxgGl46FDABjx0JGALHjoQsAkPLQVsw0MLARfgYUcBV+BhBwGX4KGhgGvw0EDARXioKeAqPNQQcBkeKgRchweNwF+AB/1fSufhodlg6xd8bvRRND0wAg8NBNSbJx08qfDGbj5L46mEC22Tj+4RJw3OsQIP3cyFrMFDewGr8NBOwDr8kCFDhtjPN6ZWU6E3QqN4AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAD1ElEQVR4nO2cvW4TQRRGz9gdToMQEh1P4dDHeYWlQSDR8FNAEhoo00FFElLwUxBBiV8BS2lDniKih8YmQiK5FIntTYIV787Mzh1xT2nv7Ox+x7OenbUvGIZhGIZhGIZhGIZhGIZhGIZheCBF0RZwqY+jLgJO1mnF7CNaOFIU7dHPgx0ROVwY7D9yILH6ioGAG/VubSJyo3N85Y7b3f0To58oAsbhI9wFEORDThIm4SNPT1/4EktCcAHnw5+8nomEC+FP34giIaiAWeFP3lcuYWb40w2CSwgm4LLwJ9splXBp+NMNg0oIImDe8CfbK5Mwd/jTBsEkeE+xpCjaox8Hn+YNH8DhHvxaWtzSMEWtHD6A4/aofbgjRdH27d9bgOv3jxD3vWo7cTwZ9rrvUkqoFf6krYzo9499jyHYyQ+Xbr3EyYuq7VJdjvzC5/3C4NvjEMcc9NOXiwQt4UOE4a9dgqbwIdL1V6sEbeFDxC9AbRI0hg+RZyDD5cVXCM+rtgstQWv40MAUMLUEzeFDQ3PwVBK0hw8N3gQ1LSGH8KHhu9CmJOQSPiRYBogtIafwIdE6TCwJuYUPCRfCQkvIMXxIvBxcX8LZwHINHxSsx/tKAMg1fFAgAPwkONzvXMMHJQKgvoQ6aAkfFAmAZiRoCh+UCYC4ErSFDwoFQBwJGsMHpQIgrASt4YNiASdz++4GuBXP/agNHxQLAH8J2sOHAL8Lik9L9YfEF7Un57O8cG4/qkeBSgGhwi/tT60EdQJCh1/ar0oJqgTECr+0f3US1AiIHX6pH1USVAhoKvxSf2okJJ+G+j5MAdmq2s7Bw2Fv8a2G/yckPYAQT7IA6t6saRgJmf454l+PJPOUkOQSFPoZrgPpDPbXwL2pur/Ul6PGO435AD3Hh/ONCmgioNwkNCagyWByktCIgBSB5CIhuoCUQeQgIeosKHUAJ7OjvdW6s6NRr7sRe3YUr16Qok+f31KHbHUG+2uxRkKUEaApfPAbCeBWRsvd17FGQvh6QcrCD3VsONnsfN1/pvpvqprDL/WjSkK4ekEZhF/qT42EMPWCMgq/1K8KCd4Ccgy/1H9yCf6zoKJogVyr2swJ2wrW4qUz2Ft1wnblxuKun5y79zH4U71kWfoHIWUqj4SAJcvCfQnPXbRPV/hj5pYQuGhfsBsx1+8fda7evA98nrWN1vBhzps1zWUrx5wW8fsI3DvzuuLwy8wcCTkUbh1zXkIu4Y+5ICGn0sVjxhIEDnMKf8xEQuTi3VGRdVoafntTFwEXojaoYRiGYRiGYRiGYRiGYRiGYRj/N38BIo7a6agchMAAAAAASUVORK5CYII=\"","import { useEffect, useState } from 'react'\r\nimport { Card, Row, Col, Image, Container, Button, Form } from 'react-bootstrap'\r\nimport Shit from './Shit'\r\nimport editIcon from '../images/icons8-edit-48.png'\r\nimport deleteIcon from '../images/icons8-delete-96.png'\r\n\r\nfunction Section(props) {\r\n    const [section, setSection] = useState({})\r\n    const [memberships, setMemberships] = useState([])\r\n    const [moderator, setModerator] = useState({})\r\n    const [isMember, setIsMember] = useState(false)\r\n    const [posts, setPosts] = useState([])\r\n    const [userId, setUserId] = useState()\r\n    const [editing, setEditing] = useState(false)\r\n    const [warning, setWarning] = useState('')\r\n\r\n\r\n    const fetchData = async() => {\r\n        console.log(props.viewFocus.name)\r\n        await fetch('/sections/'+props.viewFocus.name, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok) {\r\n                // get error message from body or default to response status \r\n                const error = (data && data.message) || response.status;\r\n                window.alert(error)\r\n                return Promise.reject(error);\r\n            }\r\n            console.log(data)\r\n\r\n            setSection(data)\r\n            setMemberships(data.members)\r\n            setModerator(data.members[0])\r\n            setPosts(data.Posts)\r\n            setUserId(sessionStorage.getItem('id'))\r\n            const membership = membershipCheck(data.members, sessionStorage.getItem('id'))\r\n            console.log(membership)\r\n            setIsMember(membership)\r\n\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n\r\n\r\n    useEffect(() => {  \r\n        fetchData();\r\n\r\n    }, [props.viewFocus])\r\n\r\n    const submitEditHandler = async(event) => {\r\n        //Prevent the default page refresh on submit.\r\n        event.preventDefault();\r\n        //Create a form object containing the elements.\r\n        const form = event.target.elements\r\n        await fetch('/sections', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                title: section.title,\r\n                description: form.description.value,\r\n                UserId: sessionStorage.getItem('id'),\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            setEditing(false)\r\n            setSection(data)\r\n            setMemberships(section.members)\r\n            setPosts(section.Posts)\r\n            setWarning(\"\")\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    const editingButtonHandler = (value) => {\r\n        setEditing(value)\r\n    }\r\n\r\n    const deleteButtonHandler = async() => {\r\n        if(!window.confirm(\"Are you sure you want to delete this section?\")){\r\n            return\r\n        }\r\n\r\n        await fetch('/sections', {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                title: section.title,\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n\r\n            props.onFocusChange({type: \"menu\", name: \"Home\"})\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    const membershipCheck = (members, id) => {\r\n        let membership = false\r\n        console.log(members)\r\n        for(let i = 0; i < members.length; i++){\r\n            if(members[i].id == id){\r\n                membership = true\r\n            }\r\n        }\r\n\r\n        console.log(members, id, membership)\r\n        return membership;\r\n    }\r\n\r\n    const joinButtonClickHandler = async(isMember) => {\r\n        const UserId = sessionStorage.getItem('id')\r\n        if(!UserId){\r\n            return window.alert(\"You must be logged in to join!\")\r\n        }\r\n        if(section.UserId == UserId){\r\n            return window.alert(\"You are the moderator you can't abandon your section!\")\r\n        }\r\n        const url = isMember ? '/users/memberships/remove/' : '/users/memberships/add/'\r\n        console.log(section.title)\r\n        await fetch(url, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                displayName: sessionStorage.getItem('displayName'),\r\n                title: section.title,\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('applickaation/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            setIsMember(!isMember)\r\n            fetchData()\r\n            props.onFocusChange({type: \"section\", name: section.title})\r\n            console.log(data)\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    const makePostButtonHandler = () => {\r\n        props.onMakePost(section.title);\r\n        props.onFocusChange({type: 'menu', name: 'Create a new post'})\r\n    }\r\n\r\n    return(\r\n    <Container className=\"pb-3\">\r\n        <Row className=\"mb-3\">\r\n            <Col xs={10} sm={10} md={10} lg={9} xl={8}>\r\n                <h1>{section && section.title}</h1>\r\n                <h6 onClick={() => props.onFocusChange({type: 'user', name: moderator.displayName})}>Moderator: {moderator && moderator.displayName}</h6>\r\n                {!editing && <span>{section && section.description}</span>}\r\n                <h6>{memberships && memberships.length} Members</h6>\r\n                <Button variant=\"secondary\" onClick={event => joinButtonClickHandler(isMember)}>{!isMember ? 'become member' : 'cancel membership'}</Button>\r\n                {isMember && <Button variant=\"secondary\" className=\"ms-3\" onClick={event => makePostButtonHandler()}>make a post</Button>}\r\n                {editing && \r\n                <Form onSubmit={event => submitEditHandler(event)}>\r\n                    <Form.Group controlId=\"description\">\r\n                        <Form.Label>Description</Form.Label>\r\n                        <Form.Control required as=\"textarea\" rows={8} defaultValue={section.description}></Form.Control>\r\n                    </Form.Group>\r\n        \r\n                    <Form.Group controlId=\"formButtons\">\r\n                        <Button variant=\"primary\" className=\"m-2\" onClick={event => editingButtonHandler(false)}>\r\n                            Cancel\r\n                        </Button>\r\n        \r\n                        <Button variant=\"primary\" className=\"m-2\" type=\"submit\">\r\n                            Submit\r\n                        </Button>\r\n                        <Form.Label style={{color: \"red\"}}>\r\n                            {warning}\r\n                        </Form.Label>\r\n                    </Form.Group>\r\n                </Form>              \r\n                }\r\n            </Col>\r\n            <Col xs={1} sm={1} md={1} lg={1} xl={1}>\r\n                {section.UserId == userId && \r\n                    <>\r\n                        <Image className=\"edit p-1\"\r\n                        width={25}\r\n                        height={25}\r\n                        src={editIcon}\r\n                        alt=\"Edit\"\r\n                        onClick={event => editingButtonHandler(true)}\r\n                        />\r\n\r\n                        <Image className=\"delete p-1\"\r\n                        width={25}\r\n                        height={25}\r\n                        src={deleteIcon}\r\n                        alt=\"Delete\"\r\n                        onClick={event => deleteButtonHandler()}\r\n                        />\r\n                    </>\r\n                }\r\n            </Col>\r\n        </Row>\r\n        <Container>\r\n            {(posts.length > 0 ) &&\r\n            posts.map( post => \r\n                <Card key={post.id+post.title} onClick={event => props.onFocusChange({type: 'post', name: post.title})}>\r\n                    <Card.Body>\r\n                        <Row>\r\n                            <Col xs={1} sm={1} md={1} lg={1} xl={1}>\r\n                                <Shit shitFor={{type: 'post', id: post.id}} />\r\n                            </Col>\r\n                            <Col xs={10} sm={10} md={10} lg={9} xl={8}>\r\n                                <Card.Title>{\r\n                                    post.title.length > 125 ?\r\n                                    post.title.substring(0, 125)+'...' :\r\n                                    post.title\r\n                                    }\r\n                                </Card.Title>\r\n                                <Card.Text>\r\n                                {\r\n                                    post.body.length > 125 ?\r\n                                    post.body.substring(0, 125)+'...' :\r\n                                    post.body\r\n                                    }\r\n                                </Card.Text>\r\n                            </Col>\r\n                        </Row>\r\n\r\n                    </Card.Body>\r\n                </Card> \r\n            )}\r\n        </Container>\r\n    </Container>\r\n    );\r\n}\r\n\r\nexport default Section","import { Form, Button, Container, Row, Col } from 'react-bootstrap'\r\nimport { useState } from 'react'\r\n\r\n\r\n//The funcionality behind post creation. Users create posts which their peers and themselves can post\r\n//things that they don't like. This form makes a fetch request to the API to confirm credentials, and create\r\n//a new custom section with them. \r\nfunction PostForm(props) {\r\n    //A default empty warning state that can be used to populate warnings displayed in response from the server.\r\n    const [warning, setWarning] = useState('')\r\n    const [defaultSection, setDefaultSection] = useState('')\r\n\r\n    //The submitHandler is an async function that makes a fetch request to the api, and confirms validitiy of session\r\n    //credentials and creates a new session if authorized.\r\n    const submitHandler = async(event) => {\r\n        //Prevent the default page refresh on submit.\r\n        event.preventDefault();\r\n        const UserId = sessionStorage.getItem('id')\r\n        if(!UserId){\r\n            return window.alert(\"You must be logged in to comment!\")\r\n        }\r\n        //Create a form object containing the elements.\r\n        const form = event.target.elements\r\n        await fetch('/posts', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                title: form.postTitle.value.normalize(),\r\n                body: form.body.value.normalize(),\r\n                sectionTitle: form.sectionTitle.value.normalize(),\r\n                UserId: sessionStorage.getItem('id'),\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            props.onFocusChange({type: 'post', name: data.title})\r\n            setWarning(\"\")\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    //Sets the focus to \"Home\" on cancellation.\r\n    const cancelHandler = () => {\r\n        props.onFocusChange({type: 'menu', name: 'Home'})\r\n    }\r\n    \r\n    return(\r\n        <Container>\r\n            <Row className=\"justify-content-center\">\r\n                <Col  xs={12} sm={12} md={8} lg={8} xl={6}>\r\n                    <Form onSubmit={event => submitHandler(event)}>\r\n                        <Form.Group controlId=\"postTitle\">\r\n                            <Form.Label>Title</Form.Label>\r\n                            <Form.Control required type=\"text\" placeholder=\"Your new post's title\" />\r\n\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"sectionTitle\">\r\n                            <Form.Label>Section</Form.Label>\r\n                            <Form.Control defaultValue={props.defaultSection} required type=\"text\" placeholder=\"What section would you like to post in?\" />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"body\">\r\n                            <Form.Label>Body</Form.Label>\r\n                            <Form.Control required as=\"textarea\" rows={8} placeholder=\"What message would you like to share?\" />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formButtons\">\r\n                            <Button variant=\"primary\" className=\"m-2\" onClick={cancelHandler}>\r\n                                Cancel\r\n                            </Button>\r\n\r\n                            <Button variant=\"primary\" className=\"m-2\" type=\"submit\">\r\n                                Submit\r\n                            </Button>\r\n                            <Form.Label style={{color: \"red\"}}>\r\n                                {warning}\r\n                            </Form.Label>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n\r\n    );\r\n}\r\nexport default PostForm","import { Form, Button } from 'react-bootstrap'\r\nimport { useState } from 'react'\r\n\r\nfunction CommentForm(props) {\r\n    //A default empty warning state that can be used to populate warnings displayed in response from the server.\r\n    const [warning, setWarning] = useState('')\r\n\r\n    //The submitHandler is an async function that makes a fetch request to the api, and confirms validitiy of session\r\n    //credentials and creates a new session if authorized.\r\n    const submitHandler = async(event) => {\r\n        //Prevent the default page refresh on submit.\r\n        event.preventDefault();\r\n\r\n        const UserId = sessionStorage.getItem('id')\r\n        if(!UserId){\r\n            return window.alert(\"You must be logged in to comment!\")\r\n        }\r\n        //Create a form object containing the elements.\r\n        const form = event.target.elements\r\n        const PostId = props.post.id\r\n        const CommentId = props.commentTarget.type == 'comment' ? props.commentTarget.id : null\r\n\r\n        await fetch('/comments', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                body: form.body.value,\r\n                UserId: sessionStorage.getItem('id'),\r\n                PostId: PostId,\r\n                CommentId: CommentId,\r\n                sessionId: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            props.onCommentSubmit()\r\n            setWarning('')\r\n            event.target.reset()\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <Form onSubmit={event => submitHandler(event)}>\r\n            <Form.Group controlId=\"body\">\r\n                <Form.Label>Comment</Form.Label>\r\n                <Form.Control required as=\"textarea\" rows={8} placeholder=\"What comment would you like to make?\" />\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formButtons\">\r\n                <Button variant=\"primary\" className=\"m-2\" type=\"submit\">\r\n                    Submit\r\n                </Button>\r\n                <Form.Label style={{color: \"red\"}}>\r\n                    {warning}\r\n                </Form.Label>\r\n            </Form.Group>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default CommentForm","import { useState, useEffect } from 'react'\r\nimport { Card, Button, Row, Col, Image, Form } from 'react-bootstrap'\r\nimport CommentForm from './CommentForm'\r\nimport Shit from './Shit'\r\nimport editIcon from '../images/icons8-edit-48.png'\r\nimport deleteIcon from '../images/icons8-delete-96.png'\r\nimport parse from 'html-react-parser';\r\n\r\nfunction Comment(props) {\r\n    const [userId, setUserId] = useState()\r\n    const [comment, setComment] = useState(props.comment)\r\n    const [comments, setComments] = useState([])\r\n    const [showCommentForm, setShowCommentForm] = useState(false)\r\n    const [showComment, setShowComment] = useState(true)\r\n    const [editing, setEditing] = useState(false)\r\n    const [warning, setWarning] = useState('')\r\n\r\n    \r\n    const editingButtonHandler = (value) => {\r\n        setEditing(value)\r\n    }\r\n\r\n    const deleteButtonHandler = async() => {\r\n        if(!window.confirm(\"Are you sure you want to delete this comment?\")){\r\n            return\r\n        }\r\n\r\n\r\n        await fetch('/comments', {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                id: comment.id,\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay.\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Calls the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            setShowComment(false)\r\n            setWarning(\"\")\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    const submitEditHandler = async(event) => {\r\n        //Prevent the default page refresh on submit.\r\n        event.preventDefault();\r\n        //Create a form object containing the elements.\r\n        const form = event.target.elements\r\n        await fetch('/comments', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                id: comment.id,\r\n                body: form.body.value,\r\n                UserId: sessionStorage.getItem('id'),\r\n                PostId: comment.PostId,\r\n                CommentId: comment.CommentId,\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            setEditing(false)\r\n            setComment(data)\r\n            setComments(data.Comments)\r\n            setWarning(\"\")\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n\r\n    const fetchData = async() => {\r\n\r\n        await fetch('/comments/'+comment.id, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            //If the response is not okay.\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                console.log(error)\r\n                return Promise.reject(error);\r\n            }\r\n            console.log(data);\r\n            setComment(data)\r\n            const commentArray = data.Comments.sort((a, b) => b.Shits.length - a.Shits.length)\r\n            setComments(commentArray)\r\n            console.log(comments);\r\n\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        setUserId(sessionStorage.getItem('id'))\r\n        fetchData()\r\n\r\n    }, [props.viewFocus])\r\n    \r\n    const commentButtonHandler = (value) => {\r\n        if(showCommentForm && !(props.commentTarget.type == 'comment' &&\r\n        props.commentTarget.id == comment.id)){\r\n            commentTargetHandler(comment.id)\r\n        }\r\n        else{\r\n            setShowCommentForm(value)\r\n            commentTargetHandler(comment.id)\r\n        }\r\n    }\r\n\r\n    const commentTargetHandler = (value) => {\r\n        props.onCommentTargetChange(value)\r\n    }\r\n\r\n    const commentSubmitHandler = () => {\r\n        fetchData()\r\n        setShowCommentForm(false)\r\n    }\r\n\r\n    const CommentBody = () => {\r\n        if(!comment.body){\r\n            return\r\n        }\r\n        const text = comment.body;\r\n        console.log(text)\r\n\r\n        const regex = /(((https?:\\/\\/)|(www\\.))[^\\s]+)/g\r\n        const body = text.replace(regex, (url) => {\r\n            let hyperlink = url\r\n            if(!hyperlink.match('^https?:\\/\\/')){\r\n                hyperlink = 'https://'+hyperlink\r\n            }\r\n            return '<a href=\"'+hyperlink+'\">'+hyperlink+'</a>';\r\n        })\r\n        return (\r\n            <>{parse(body)}</>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {showComment &&\r\n            <Card className=\"p-0\">\r\n                <Card.Header>\r\n                    <Row className=\"justify-content-between\">\r\n                        <Col xs={12} sm={7} md={8} lg={8} xl={8}  onClick={() => props.onFocusChange({type: 'user', name: comment.User.displayName})}>\r\n                            {comment.User.displayName}\r\n                        </Col>\r\n                        <Col xs={12} sm={3} md={2} lg={2} xl={2}>\r\n                            {comment.UserId == userId && \r\n                                <>\r\n                                    <Image className=\"edit p-1\"\r\n                                    width={25}\r\n                                    height={25}\r\n                                    src={editIcon}\r\n                                    alt=\"Edit\"\r\n                                    onClick={event => editingButtonHandler(true)}\r\n                                    />\r\n                                </>\r\n                            }\r\n                            {(props.section.UserId == userId || comment.UserId == userId) && \r\n                                <>\r\n                                    <Image className=\"delete p-1\"\r\n                                    width={25}\r\n                                    height={25}\r\n                                    src={deleteIcon}\r\n                                    alt=\"Delete\"\r\n                                    onClick={event => deleteButtonHandler()}\r\n                                    />\r\n                                </>\r\n                            }\r\n                        </Col>\r\n                    </Row>              \r\n                </Card.Header>\r\n                <Card.Body className=\"ps-1 pe-0 pb-0\">\r\n                    <Row>\r\n                        <Col xs={3} sm={2} md={2} lg={2} xl={2}>\r\n                            <Shit shitFor={{type: 'comment', id: comment.id}} />\r\n                        </Col>\r\n                        <Col xs={9} sm={10} md={10} lg={10} xl={10} className=\"pe-3\">\r\n                                <Card.Text>\r\n                                {!editing && <CommentBody />}\r\n                                {editing && \r\n                                <Form onSubmit={event => submitEditHandler(event)}>\r\n                                    <Form.Group controlId=\"body\">\r\n                                        <Form.Label>Body</Form.Label>\r\n                                        <Form.Control required as=\"textarea\" rows={8}>{comment.body}</Form.Control>\r\n                                    </Form.Group>\r\n                        \r\n                                    <Form.Group controlId=\"formButtons\">\r\n                                        <Button variant=\"primary\" className=\"m-2\" onClick={event => editingButtonHandler(false)}>\r\n                                            Cancel\r\n                                        </Button>\r\n                        \r\n                                        <Button variant=\"primary\" className=\"m-2\" type=\"submit\">\r\n                                            Submit\r\n                                        </Button>\r\n                                        <Form.Label style={{color: \"red\"}}>\r\n                                            {warning}\r\n                                        </Form.Label>\r\n                                    </Form.Group>\r\n                                </Form>              \r\n                                }\r\n                            </Card.Text>\r\n\r\n                        </Col>\r\n                    </Row>\r\n                    <Row className=\"mt-3\">\r\n                        <Col>\r\n                        {(!showCommentForm || !(props.commentTarget.type == 'comment' &&\r\n                            props.commentTarget.id == comment.id)) && <Button className=\"mb-3\" active={false} onClick={event => commentButtonHandler(!showCommentForm)} variant=\"secondary\">comment</Button>}\r\n                            {(showCommentForm && (props.commentTarget.type == 'comment' &&\r\n                            props.commentTarget.id == comment.id)) && <CommentForm post={props.post} onCommentSubmit={commentSubmitHandler} commentTarget={{type: 'comment', id: comment.id}}/>}\r\n                            {comments.length > 0 && comments.map( comment => <Comment onFocusChange={props.onFocusChange} section={props.section} post={props.post} key={comment.id} comment={comment} commentTarget={props.commentTarget} onCommentTargetChange={commentTargetHandler}></Comment>)}\r\n                        </Col>\r\n                    </Row>\r\n                </Card.Body>\r\n            </Card>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Comment","import { useEffect, useState } from 'react'\r\nimport { Button, Row, Col, Image, Form, Container } from 'react-bootstrap'\r\nimport editIcon from '../images/icons8-edit-48.png'\r\nimport deleteIcon from '../images/icons8-delete-96.png'\r\nimport CommentForm from './CommentForm'\r\nimport Comment from './Comment'\r\nimport Shit from './Shit'\r\nimport parse from 'html-react-parser';\r\n\r\nfunction Post(props) {\r\n    const [post, setPost] = useState({})\r\n    const [creator, setCreator] = useState({})\r\n    const [section, setSection] = useState({})\r\n    const [comments, setComments] = useState([])\r\n    const [userId, setUserId] = useState()\r\n    const [commentTarget, setCommentTarget] = useState({type: 'post', id: null})\r\n    const [showCommentForm, setShowCommentForm] = useState(true)\r\n    const [editing, setEditing] = useState(false)\r\n    const [warning, setWarning] = useState('')\r\n\r\n    const commentTargetHandler = (value) => {\r\n        setCommentTarget({type: 'comment', id: value})\r\n    }\r\n\r\n    const commentSubmitHandler = () => {\r\n        fetchData()\r\n        setShowCommentForm(false)\r\n    }\r\n\r\n    const commentButtonHandler = (value) => {\r\n        if(showCommentForm && !(commentTarget.type == 'post' &&\r\n        commentTarget.id == post.id)){\r\n            setCommentTarget({type: 'post', id: post.id})\r\n        }\r\n        else{\r\n            setShowCommentForm(value)\r\n            setCommentTarget({type: 'post', id: post.id})\r\n        }\r\n    }\r\n\r\n    const editingButtonHandler = (value) => {\r\n        setEditing(value)\r\n    }\r\n\r\n    const deleteButtonHandler = async() => {\r\n        if(!window.confirm(\"Are you sure you want to delete this post?\")){\r\n            return\r\n        }\r\n\r\n        await fetch('/posts', {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                id: post.id,\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n\r\n            props.onFocusChange({type: \"menu\", name: \"Home\"})\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n\r\n    const fetchData = async() => {\r\n        const url = '/posts/'+encodeURIComponent(props.viewFocus.name)\r\n        await fetch(url, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // If the response is not okay return the error message.\r\n            if (!response.ok) {\r\n                const error = (data && data.message) || response.status;\r\n                console.log(error)\r\n                return Promise.reject(error);\r\n            }\r\n            setPost(data)\r\n            setUserId(sessionStorage.getItem('id'))\r\n            setSection(data.Section)\r\n            const postOnlyCommentArray = data.Comments.filter((value, index) => { return value.CommentId == null })\r\n            const commentArray = postOnlyCommentArray.sort((a, b) => b.Shits.length - a.Shits.length)\r\n            setComments(commentArray)     \r\n            setCreator(data.User)\r\n            setCommentTarget({type: 'post', id: data.id})\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n\r\n    }, [props.viewFocus])\r\n\r\n    const submitEditHandler = async(event) => {\r\n        //Prevent the default page refresh on submit.\r\n        event.preventDefault();\r\n        //Create a form object containing the elements.\r\n        const form = event.target.elements\r\n        await fetch('/posts', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                id: post.id,\r\n                title: post.title,\r\n                body: form.body.value,\r\n                UserId: sessionStorage.getItem('id'),\r\n                SectionId: section,\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            setEditing(false)\r\n            setPost(data)\r\n            setWarning(\"\")\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    const Body = (props) => {\r\n        if(!props.body){\r\n            return\r\n        }\r\n            console.log(props.body)\r\n        const text = props.body;\r\n\r\n        const regex = /(((https?:\\/\\/)|(www\\.))[^\\s]+)/g\r\n        const body = text.replace(regex, (url) => {\r\n            let hyperlink = url\r\n            if(!hyperlink.match('^https?:\\/\\/')){\r\n                hyperlink = 'https://'+hyperlink\r\n            }\r\n            return '<a href=\"'+hyperlink+'\">'+hyperlink+'</a>';\r\n        })\r\n        return (\r\n            <div className=\"pb-4 text-break\">{parse(body)}</div>\r\n        );\r\n    }\r\n\r\n    return(\r\n        <Container className=\"pb-3\">\r\n            <Row>\r\n                <Col>\r\n                    <Row>\r\n                        <Col xs={3} sm={2} md={2} lg={1} xl={1}>\r\n                            <Row>\r\n                                {post.id && <Shit shitFor={{type: 'post', id: post.id}} />}\r\n                            </Row>\r\n                        </Col>\r\n                        <Col xs={9} sm={10} md={10} lg={11} xl={11}>\r\n                            <Row>\r\n                                {section && <h4 className=\"pb-2 text-break\" onClick={event => props.onFocusChange({type: \"section\", name: section.title})} value={section.title}>/{section.title}/</h4>}\r\n                            </Row>\r\n                            <h1 className=\"pb-2\">{post.title}</h1>\r\n                            <Row className=\"pb-3 justify-content-between\">\r\n                                <Col xs={12} sm={7} md={7} lg={7} xl={7} xxl={7}>\r\n                                    <h6 className=\"text-break\" onClick={() => props.onFocusChange({type: 'user', name: creator.displayName})}>creator: {creator.displayName}</h6>\r\n                                </Col>\r\n                                <Col xs={12} sm={2} md={2} lg={2} xl={2} xxl={1}>\r\n                                    {post.UserId == userId && \r\n                                        <>\r\n                                            <Image className=\"edit p-1\"\r\n                                            width={25}\r\n                                            height={25}\r\n                                            src={editIcon}\r\n                                            alt=\"Edit\"\r\n                                            onClick={event => editingButtonHandler(true)}\r\n                                            />\r\n                                        </>\r\n                                    }\r\n                                    {(post.UserId == userId || section.UserId == userId) && \r\n                                        <>\r\n                                            <Image className=\"delete p-1\"\r\n                                            width={25}\r\n                                            height={25}\r\n                                            src={deleteIcon}\r\n                                            alt=\"Delete\"\r\n                                            onClick={event => deleteButtonHandler()}\r\n                                            />\r\n                                        </>\r\n                                    }\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col xs={9} sm={10} md={10} lg={11} xl={11}>\r\n                                    {(!editing && post.body) && <Body body={post.body}></Body>}\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row className=\"justify-content-center pt-4\">\r\n                        {editing && \r\n                        <Form onSubmit={event => submitEditHandler(event)}>\r\n                            <Form.Group controlId=\"body\">\r\n                                <Form.Label>Body</Form.Label>\r\n                                <Form.Control required as=\"textarea\" rows={8} defaultValue={post.body}></Form.Control>\r\n                            </Form.Group>\r\n                \r\n                            <Form.Group controlId=\"formButtons\">\r\n                                <Button variant=\"primary\" className=\"m-2\" onClick={event => editingButtonHandler(false)}>\r\n                                    Cancel\r\n                                </Button>\r\n                \r\n                                <Button variant=\"primary\" className=\"m-2\" type=\"submit\">\r\n                                    Submit\r\n                                </Button>\r\n                                <Form.Label style={{color: \"red\"}}>\r\n                                    {warning}\r\n                                </Form.Label>\r\n                            </Form.Group>\r\n                        </Form>              \r\n                        }\r\n                        <Col xs={12} sm={11} md={11} lg={11} xl={10} xxl={10}>\r\n                            {(commentTarget.type === \"post\" && showCommentForm && !editing)  && <CommentForm post={post} onCommentSubmit={commentSubmitHandler} commentTarget={commentTarget}/>}\r\n                            <Row className=\"pb-4\">\r\n                                <Col >\r\n                                {(!showCommentForm || commentTarget.type != \"post\") && <Button className=\"mb-3\" active={false} onClick={event => commentButtonHandler(!showCommentForm)} variant=\"secondary\">comment</Button>}\r\n                                </Col>\r\n                            </Row>\r\n                            <Row className=\"p-2\">\r\n                                <hr />\r\n                                <h6>Comments:</h6>\r\n                                {comments.length > 0 && comments.map( comment => <Comment section={section} post={post} key={comment.id} onFocusChange={props.onFocusChange} viewFocus={props.viewFocus} comment={comment} commentTarget={commentTarget} onCommentTargetChange={commentTargetHandler}></Comment>)}\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>             \r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Post","import { useEffect, useState } from 'react'\r\nimport { Card, Row, Col, Image, Container, Button, Form } from 'react-bootstrap'\r\nimport Shit from './Shit'\r\n\r\nfunction User(props){\r\n    const [user, setUser] = useState({})\r\n    const [posts, setPosts] = useState([])\r\n    const [sections, setSections] = useState([])\r\n    const [comments, setComments] = useState([])\r\n    const [shits, setShits] = useState([])\r\n    const [postShits, setPostShits] = useState(0)\r\n    const [commentShits, setCommentShits] = useState(0)\r\n\r\n\r\n    const fetchData = async() => {\r\n        console.log(props.viewFocus.name)\r\n        await fetch('/users/'+props.viewFocus.name, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok) {\r\n                // get error message from body or default to response status \r\n                const error = (data && data.message) || response.status;\r\n                window.alert(error)\r\n                return Promise.reject(error);\r\n            }\r\n            console.log(data)\r\n            setUser(data)\r\n            const postArray = data.Posts.sort((a, b) => b.Shits.length - a.Shits.length)\r\n            setPosts(postArray)\r\n            setSections(data.Sections)\r\n            const commentArray = data.Comments.sort((a, b) => b.Shits.length - a.Shits.length)\r\n            setComments(commentArray)\r\n            setShits(data.Shits)\r\n            setPostShits(shitCount(data.Posts))\r\n            setCommentShits(shitCount(data.Comments))\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n\r\n\r\n    useEffect(() => {  \r\n        fetchData();\r\n\r\n    }, [props.viewFocus])\r\n\r\n    const shitCount = (userData) => {\r\n        let postShits = 0;\r\n        for(let i = 0; i < userData.length; i++){\r\n            const shits = userData[i].Shits.length\r\n            postShits += shits\r\n        }\r\n\r\n        return postShits;\r\n    }\r\n    \r\n    return(\r\n        <Container>\r\n            <Row className=\"pb-2\">\r\n                <h1>{user.displayName}'s Profile</h1>\r\n                <span className=\"ps-4\">{shits.length} shits given!</span>\r\n            </Row>\r\n            <Row>\r\n                <Col xs={12} sm={12} md={12} lg={6} xl={5}>\r\n                    <Row>\r\n                        <Col>\r\n                            <h2>Posts</h2>\r\n                        </Col>\r\n                        <Col>\r\n                            <span className=\"p-0\">{postShits} shits recieved on posts</span>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                    {(posts.length > 0 ) ?\r\n                        posts.map( post => \r\n                            <Card key={post.id+post.title}>\r\n                                <Card.Body>\r\n                                    <Row>\r\n                                            <Col xs={2} sm={2} md={2} lg={2} xl={2}>\r\n                                                <Shit shitFor={{type: 'post', id: post.id}} />\r\n                                            </Col>\r\n                                            <Col xs={10} sm={10} md={10} lg={9} xl={8} onClick={event => props.onFocusChange({type: 'post', name: post.title})}>\r\n                                                <Card.Title>{\r\n                                                    post.title.length > 125 ?\r\n                                                    post.title.substring(0, 125)+'...' :\r\n                                                    post.title\r\n                                                    }\r\n                                                </Card.Title>\r\n                                                <Card.Text>\r\n                                                {\r\n                                                    post.body.length > 125 ?\r\n                                                    post.body.substring(0, 125)+'...' :\r\n                                                    post.body\r\n                                                    }\r\n                                                </Card.Text>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                </Card.Body>\r\n                            </Card> \r\n                        ) : \"0 found\"}\r\n                </Col>\r\n                <Col xs={12} sm={12} md={6} lg={6} xl={4} className=\"pt-2\">\r\n                    <Row>\r\n                        <Col>\r\n                            <h2>Comment</h2>\r\n                        </Col>\r\n                        <Col>\r\n                            <span className=\"p-0\">{commentShits} shits recieved on comments</span>\r\n                        </Col>\r\n                    </Row>\r\n                            {(comments.length > 0 ) ?\r\n                    comments.map( comment => \r\n                        <Card key={comment.id+user.displayName} onClick={event => props.onFocusChange({type: 'post', name: comment.Post.title})}>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    <Col xs={2} sm={2} md={2} lg={2} xl={2}>\r\n                                        <Shit shitFor={{type: 'comment', id: comment.id}} />\r\n                                    </Col>\r\n                                    <Col xs={10} sm={10} md={10} lg={9} xl={8}>\r\n                                        <Card.Title>{\r\n                                            user.displayName.length > 125 ?\r\n                                            user.displayName.substring(0, 125)+'...' :\r\n                                            user.displayName\r\n                                            } on \r\n                                            \"{comment.Post?\r\n                                                (comment.Post.title.length > 125) ?\r\n                                                comment.Post.title.substring(0, 125)+'...' :\r\n                                                comment.Post.title\r\n                                                : \"\"}\r\n                                            {comment.parent ?\r\n                                                (comment.parent.body.length > 125) ?\r\n                                                comment.parent.body.substring(0, 125)+'...' :\r\n                                                comment.parent.body\r\n                                                : \"\"}\"\r\n                                        </Card.Title>\r\n                                        <Card.Text>\r\n                                            {comment.body}\r\n                                        </Card.Text>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Card> \r\n                ) : \"0 found\"}\r\n                    </Col>\r\n                <Col xs={12} sm={12} md={6} lg={6} xl={3} className=\"pt-2\">\r\n                    <h2>Sections</h2>\r\n                    {(sections.length > 0 ) ?\r\n                sections.map( section => \r\n                <Card key={section.id+section.title} onClick={event => props.onFocusChange({type: 'section', name: section.title})}>\r\n                    <Card.Body>\r\n                        <Card.Title>{\r\n                            section.title.length > 125 ?\r\n                            section.title.substring(0, 125)+'...' :\r\n                            section.title\r\n                            }\r\n                        </Card.Title>\r\n                        <Card.Text>\r\n                        {\r\n                            section.description.length > 125 ?\r\n                            section.description.substring(0, 125)+'...' :\r\n                            section.description\r\n                            }\r\n                        </Card.Text>\r\n                        </Card.Body>\r\n                    </Card> \r\n                    ) : \"0 found\" }      \r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default User","import React, { useState } from 'react';\nimport Header from './components/Header';\nimport Home from './components/Home'\nimport TopPosts from './components/TopPosts'\nimport NewPosts from './components/NewPosts'\nimport Search from './components/Search'\nimport SectionForm from './components/SectionForm'\nimport Section from './components/Section'\nimport PostForm from './components/PostForm';\nimport Post from './components/Post'\nimport User from './components/User'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport { clean } from 'unzalgo';\nimport {\n  Switch,\n  Route,\n  useHistory,\n  withRouter\n} from \"react-router-dom\";\n\nfunction App() {\n  const[focus, setFocus] = useState({type: \"menu\", name: \"Home\"})\n  const [memberSections, setMemberSections] = useState([])\n  const [search, setSearch] = useState(\"\")\n  const [defaultSection, setDefaultSection] = useState('')\n  const history = useHistory();\n\n  const focusChangeHandler = (newFocus) => {\n    setFocus(newFocus)\n    newFocus.name === \"Home\" && history.push('/')\n    newFocus.name === \"Top Posts\"  && history.push('/top-posts')\n    newFocus.name === \"New Posts\" && history.push('/new-posts')\n    newFocus.name === \"Search\" && history.push('/search')\n    newFocus.name === \"Create a new section\"  && history.push('/create-new-section')\n    newFocus.name === \"Create a new post\" && history.push('/create-new-post')\n    newFocus.type === \"section\" && history.push('/section')\n    newFocus.type === \"post\" && history.push('/post')\n    newFocus.type === \"user\" && history.push('/user')\n  }\n\n  const memberSectionsHandler = (sections) => {\n    setMemberSections(sections)\n  }\n\n  const searchHandler = (params) => {\n    const newParams = clean(params)\n    setSearch(newParams)\n  }\n\n  const defaultSectionHandler = (section) =>{\n    setDefaultSection(section)\n  }\n\n  console.log(history.location)\n  return (\n    <div className=\"App\">\n        <div className=\"container-fluid p-0\">\n          <Header onFocusChange={focusChangeHandler} onUpdateMemberSections={memberSectionsHandler} onSearch={searchHandler} memberSections={memberSections} viewFocus={focus}/>\n          <div className=\"container-fluid p-2\">\n            <Switch>\n              <Route exact path=\"/\"> \n                <Home viewFocus={focus} memberSections={memberSections} onFocusChange={focusChangeHandler} />\n              </Route>\n              <Route path=\"/top-posts\">\n                <TopPosts viewFocus={focus} memberSections={memberSections} onFocusChange={focusChangeHandler} />\n              </Route>\n              <Route path=\"/new-posts\">\n                <NewPosts viewFocus={focus} memberSections={memberSections} onFocusChange={focusChangeHandler} />\n              </Route>\n              <Route path=\"/search\">\n                <Search viewFocus={focus} onFocusChange={focusChangeHandler} search={search} />\n              </Route>\n              <Route path=\"/create-new-section\">\n                <SectionForm onFocusChange={focusChangeHandler} />\n              </Route>\n              <Route path=\"/create-new-post\">\n                <PostForm defaultSection={defaultSection} onFocusChange={focusChangeHandler} />\n              </Route>\n              <Route path=\"/section\">\n                <Section viewFocus={focus} onMakePost={defaultSectionHandler} onFocusChange={focusChangeHandler}/>\n              </Route>\n              <Route path=\"/post\">\n                <Post viewFocus={focus} onFocusChange={focusChangeHandler}/>\n              </Route>\n              <Route path=\"/user\">\n                <User viewFocus={focus} onFocusChange={focusChangeHandler} />\n              </Route>\n            </Switch>\n          </div>\n        </div>\n    </div>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}