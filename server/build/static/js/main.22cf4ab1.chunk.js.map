{"version":3,"sources":["components/SignUp.js","components/Login.js","components/UserSettings.js","components/AccountControls.js","components/Menu.js","components/Header.js","images/shit.png","images/no-shit.png","components/Shit.js","components/Home.js","components/TopPosts.js","components/NewPosts.js","components/Search.js","components/SectionForm.js","images/icons8-edit-48.png","images/icons8-delete-96.png","components/Section.js","components/PostForm.js","components/CommentForm.js","components/Comment.js","components/Post.js","components/User.js","App.js","reportWebVitals.js","index.js"],"names":["SignUp","props","useState","show","setShow","warning","setWarning","handleClose","submitHandler","event","a","preventDefault","form","target","elements","fetch","method","headers","body","JSON","stringify","displayName","displayNameInput","value","email","emailInput","password","passwordInput","credentials","then","response","isJson","get","includes","json","data","ok","error","message","status","Promise","reject","sessionStorage","setItem","id","session","onLogin","console","log","catch","Button","variant","onClick","Modal","onHide","backdrop","keyboard","Header","Title","Body","Form","onSubmit","Group","controlId","Label","Control","type","placeholder","Text","className","Footer","style","color","Login","UserSettings","getItem","logout","sessionId","onLogout","NavDropdown","title","Item","onChangeFocus","name","AccountControls","isLoggedIn","ButtonGroup","Menu","useEffect","memberships","map","section","item","onUpdateMemberSections","fetchData","viewFocus","focusHandler","onFocusChange","length","substring","selection","Divider","memberSections","Navbar","collapseOnSelect","expand","bg","sticky","Container","Brand","href","Toggle","Collapse","Nav","onSearch","params","searchHandler","FormControl","Shit","shits","setShits","shitFor","shitGiven","setShitGiven","url","i","UserId","clickShitHandler","PostId","CommentId","window","alert","renderTooltip","Tooltip","OverlayTrigger","placement","delay","hide","overlay","Image","fluid","src","shitIcon","noShitIcon","Row","Col","Home","setUser","posts","setPosts","postArray","Posts","flat","sort","b","Date","updatedAt","pageCount","Math","ceil","items","number","push","Pagination","active","post","Card","xs","sm","md","lg","xl","toString","to","all","TopPosts","Shits","index","NewPosts","createdAt","Search","search","setUserId","sections","setSections","users","setUsers","encodeURIComponent","Sections","Users","description","user","SectionForm","sectionTitle","as","rows","Section","setSection","setMemberships","moderator","setModerator","isMember","setIsMember","editing","setEditing","userId","fetchSection","members","membership","membershipCheck","submitEditHandler","editingButtonHandler","deleteButtonHandler","confirm","joinButtonClickHandler","onMakePost","required","defaultValue","width","height","editIcon","alt","deleteIcon","PostForm","postTitle","normalize","defaultSection","CommentForm","commentTarget","onCommentSubmit","reset","Comment","comment","setComment","comments","setComments","showCommentForm","setShowCommentForm","showComment","setShowComment","Comments","commentArray","commentTargetHandler","onCommentTargetChange","CommentBody","text","replace","hyperlink","match","parse","User","Post","useParams","setPost","creator","setCreator","setCommentTarget","fetchPost","postOnlyCommentArray","filter","SectionId","xxl","postShits","setPostShits","commentShits","setCommentShits","shitCount","userData","parent","withRouter","setIsLoggedIn","focus","setFocus","setMemberSections","setSearch","setDefaultSection","history","useHistory","focusChangeHandler","newFocus","location","clear","newParams","clean","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.22cf4ab1.chunk.js","sourcesContent":["import { useState } from 'react'\r\nimport { Button, Modal, Form } from 'react-bootstrap'\r\n\r\nfunction SignUp(props) {\r\n    const [show, setShow] = useState(false)\r\n    const [warning, setWarning] = useState(\"\")\r\n\r\n    const handleClose = () => {\r\n        setWarning(\"\")\r\n        setShow(false)\r\n    }\r\n\r\n    const handleShow = () => setShow(true);\r\n\r\n    const submitHandler = async(event) => {\r\n        event.preventDefault();\r\n        const form = event.target.elements\r\n        await fetch('/api/users', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                displayName: form.displayNameInput.value,\r\n                email: form.emailInput.value,\r\n                password: form.passwordInput.value\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok) {\r\n                // get error message from body or default to response status\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            sessionStorage.setItem('id', data.id)\r\n            sessionStorage.setItem('displayName', data.displayName)\r\n            sessionStorage.setItem('session', data.session)\r\n            props.onLogin();\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <>\r\n      <Button variant=\"primary\" onClick={handleShow}>\r\n        Sign up\r\n      </Button>\r\n\r\n      <Modal\r\n        show={show}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n      >\r\n        <Modal.Header>\r\n          <Modal.Title>Sign up</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Form onSubmit={event =>submitHandler(event)}>\r\n            <Form.Group controlId=\"displayNameInput\">\r\n                <Form.Label>Display name</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Enter display name\" />\r\n                <Form.Text className=\"text-muted\">\r\n                This will be your identity with your fellow shit givers.\r\n                </Form.Text>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"emailInput\">\r\n                <Form.Label>Email address</Form.Label>\r\n                <Form.Control type=\"email\" placeholder=\"Enter email\" />\r\n                <Form.Text className=\"text-muted\">\r\n                We'll never share your email with anyone else.\r\n                </Form.Text>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"passwordInput\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control type=\"password\" placeholder=\"Password\" />\r\n            </Form.Group>\r\n            <Modal.Footer>\r\n                <Form.Label style={{color: \"red\"}}>\r\n                    {warning}\r\n                </Form.Label>\r\n                <Button variant=\"primary\" onClick={handleClose}>\r\n                    Close\r\n                </Button>\r\n                <Button variant=\"primary\" type=\"submit\">Submit</Button>\r\n                </Modal.Footer>\r\n            </Form> \r\n        </Modal.Body>\r\n      </Modal>\r\n    </>\r\n    );\r\n}\r\n\r\nexport default SignUp;","import { useState } from 'react'\r\nimport { Button, Modal, Form } from 'react-bootstrap'\r\n\r\nfunction Login(props) {\r\n    const [show, setShow] = useState(false)\r\n    const [warning, setWarning] = useState(\"\")\r\n\r\n    const handleClose = () => {\r\n        setWarning(\"\")\r\n        setShow(false)\r\n    }\r\n\r\n    const handleShow = () => setShow(true);\r\n\r\n    const submitHandler = async(event) => {\r\n        event.preventDefault();\r\n        const form = event.target.elements\r\n        await fetch('/api/users/login', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                displayName: form.displayNameInput.value,\r\n                password: form.passwordInput.value\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok) {\r\n                // get error message from body or default to response status\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            console.log(data);\r\n            sessionStorage.setItem('id', data.id)\r\n            sessionStorage.setItem('displayName', data.displayName)\r\n            sessionStorage.setItem('session', data.session)\r\n            props.onLogin(data.id);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <>\r\n      <Button variant=\"primary\" onClick={handleShow}>\r\n        Sign in\r\n      </Button>\r\n\r\n      <Modal\r\n        show={show}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n      >\r\n        <Modal.Header>\r\n          <Modal.Title>Sign in</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n            <Form onSubmit={event =>submitHandler(event)}>\r\n            <Form.Group controlId=\"displayNameInput\">\r\n                <Form.Label>Display name</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Enter display name\" />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"passwordInput\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control type=\"password\" placeholder=\"Password\" />\r\n            </Form.Group>\r\n            <Modal.Footer>\r\n                <Form.Label style={{color: \"red\"}}>\r\n                    {warning}\r\n                </Form.Label>\r\n                <Button variant=\"primary\" onClick={handleClose}>\r\n                    Close\r\n                </Button>\r\n                <Button variant=\"primary\" type=\"submit\">Submit</Button>\r\n                </Modal.Footer>\r\n            </Form> \r\n        </Modal.Body>\r\n      </Modal>\r\n    </>\r\n    );\r\n}\r\n\r\nexport default Login;","import { NavDropdown } from 'react-bootstrap'\r\n\r\nfunction UserSettings(props) {\r\n    let displayName = sessionStorage.getItem(\"displayName\")\r\n    const logout = async() => {\r\n        await fetch('/api/users/logout', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                displayName: sessionStorage.getItem('displayName'),\r\n                sessionId: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok) {\r\n                // get error message from body or default to response status\r\n                const error = (data && data.message) || response.status;\r\n                return Promise.reject(error);\r\n            }\r\n\r\n            props.onLogout();\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <NavDropdown title={displayName} id=\"collapsible-nav-dropdown\">\r\n            <NavDropdown.Item onClick={() => props.onChangeFocus({type: 'user', name: displayName})}>Profile</NavDropdown.Item>\r\n            <NavDropdown.Item onClick={() => logout()}>Logout</NavDropdown.Item>\r\n        </NavDropdown>\r\n    );\r\n}\r\n\r\nexport default UserSettings","import { ButtonGroup } from 'react-bootstrap'\r\nimport SignUp from './SignUp'\r\nimport Login from './Login'\r\nimport UserSettings from './UserSettings'\r\n\r\nfunction AccountControls(props) {\r\n    const isLoggedIn = props.isLoggedIn;\r\n\r\n    const userLoggedout = () => {\r\n        props.setLoggedOut()\r\n    }\r\n\r\n    if(!isLoggedIn){\r\n        return (\r\n            <ButtonGroup>\r\n                <Login onLogin={props.onLogin}/>\r\n                <SignUp onLogin={props.onLogout}/>\r\n            </ButtonGroup>\r\n        );\r\n    }\r\n    return (\r\n        <UserSettings onChangeFocus={props.onChangeFocus} onLogout={props.onLogout}/>\r\n    );\r\n}\r\n\r\nexport default AccountControls;","import { NavDropdown } from 'react-bootstrap'\r\nimport { useState, useEffect } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nfunction Menu(props) {\r\n    const alwaysVisibleSelections = [\r\n        {type: 'menu', name: 'Home'}, \r\n        {type: 'menu', name: 'Top Posts'}, \r\n        {type: 'menu', name: 'New Posts'}\r\n    ]\r\n    const loggedInOnlySelections = [\r\n        {type: 'menu', name: 'Create a new section'}, \r\n        {type: 'menu', name: 'Create a new post'}\r\n    ]\r\n\r\n    useEffect(() => {\r\n        if(props.isLoggedIn){\r\n            const displayName = sessionStorage.getItem('displayName')\r\n            const fetchData = async() => {\r\n                await fetch('/api/sections/'+displayName+'/memberships', {\r\n                    method: 'GET',\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    credentials: 'include'\r\n                })\r\n                .then(async response => {\r\n                    const isJson = response.headers.get('content-type')?.includes('application/json');\r\n                    const data = isJson && await response.json();\r\n                    \r\n        \r\n                    // check for error response\r\n                    if (!response.ok) {\r\n                        // get error message from body or default to response status \r\n                        const error = (data && data.message) || response.status;\r\n                        return Promise.reject(error);\r\n                    }\r\n                    const memberships = data.map(section => {\r\n                        const item = {}\r\n                        item.type = 'section'\r\n                        item.name = section.title\r\n                        return item\r\n                    })\r\n                    props.onUpdateMemberSections(memberships)\r\n                    console.log(memberships);\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error! ', error);\r\n                })\r\n            }\r\n            fetchData();\r\n        }\r\n\r\n    }, [props.isLoggedIn, props.viewFocus])\r\n    \r\n\r\n    const focusHandler = (value) => {\r\n        props.onFocusChange(value)\r\n    }\r\n\r\n    return(\r\n        <NavDropdown title={ props.viewFocus.name &&\r\n            props.viewFocus.name.length > 25 ?\r\n            props.viewFocus.name.substring(0, 25)+'...' :\r\n            props.viewFocus.name\r\n            }\r\n            id=\"collapsible-nav-dropdown\">\r\n            {alwaysVisibleSelections.map( selection => selection !== props.viewFocus &&\r\n                <NavDropdown.Item key={selection.type+selection.name} onClick={event => focusHandler(selection)}>{selection.name}</NavDropdown.Item> \r\n            )}\r\n            {props.isLoggedIn && <NavDropdown.Divider />}\r\n            {props.isLoggedIn && loggedInOnlySelections.map( selection => selection !== props.viewFocus &&\r\n                <NavDropdown.Item key={selection.type+selection.name} onClick={event => focusHandler(selection)}>{selection.name}</NavDropdown.Item> \r\n            )}\r\n            {props.memberSections.length > 0 && <NavDropdown.Divider />}\r\n            {(props.memberSections.length > 0) && props.memberSections.map( section => section !== props.viewFocus &&\r\n                <NavDropdown.Item key={section.type+section.name} onClick={event => focusHandler(section)}>{\r\n                    section.name.length > 25 ?\r\n                    section.name.substring(0, 25)+'...' :\r\n                    section.name\r\n                    }\r\n                </NavDropdown.Item> \r\n            )}\r\n        </NavDropdown>\r\n    );\r\n}\r\n\r\nexport default Menu","import { Navbar, Nav, Form, FormControl, Button, Row, Container, } from 'react-bootstrap'\r\nimport { useState } from 'react'\r\nimport AccountControls from './AccountControls'\r\nimport Menu from './Menu'\r\n\r\nfunction Header(props) {\r\n    const isLoggedIn = props.isLoggedIn\r\n\r\n    const focusHandler = (value) => {\r\n        props.onFocusChange(value)\r\n    }\r\n\r\n    const loginHandler = () => {\r\n        props.onLogin(true)\r\n    }\r\n\r\n    const logoutHandler  = () => {\r\n        props.onLogin(false)\r\n        focusHandler({type: 'menu', name: 'Home'})\r\n        sessionStorage.clear()\r\n    }\r\n\r\n    const searchHandler = (event) => {\r\n        event.preventDefault()\r\n        focusHandler({type: 'search', name: 'Search'})\r\n        props.onSearch(event.target.elements.params.value)\r\n    }\r\n\r\n    return (\r\n    \r\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" sticky=\"top\">\r\n        <Container>\r\n        <Navbar.Brand href=\"/\">rotcrier</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n            <Nav className=\"mr-auto\">\r\n                <Menu isLoggedIn={isLoggedIn} onUpdateMemberSections={props.onUpdateMemberSections} onFocusChange={focusHandler} memberSections={props.memberSections} viewFocus={props.viewFocus} />\r\n            </Nav>\r\n            <Nav>\r\n                <AccountControls isLoggedIn={isLoggedIn} onChangeFocus={focusHandler} onLogin={props.onLogin} onLogout={props.onLogout}/>\r\n            </Nav>\r\n        </Navbar.Collapse>\r\n        <Nav>\r\n            <Form className=\"d-flex\" onSubmit={event => searchHandler(event)}>\r\n                <Form.Group className=\"me-1\" controlId=\"params\">\r\n                    <FormControl\r\n                        type=\"search\"\r\n                        placeholder=\"Search\"\r\n                        className=\"mr-sm-2 me-1 \"\r\n                        aria-label=\"Search\"\r\n                    />\r\n                    </Form.Group>\r\n                    <Button variant=\"primary\" type=\"submit\">Search</Button>\r\n            </Form>\r\n        </Nav>\r\n        </Container>\r\n    </Navbar>\r\n    );\r\n}\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/shit.9c5175aa.png\";","export default __webpack_public_path__ + \"static/media/no-shit.4775112b.png\";","import { useState, useEffect } from 'react'\r\nimport { Image, OverlayTrigger, Tooltip, Row, Col } from 'react-bootstrap'\r\nimport shitIcon from '../images/shit.png'\r\nimport noShitIcon from '../images/no-shit.png'\r\n\r\nfunction Shit(props){\r\n    const[shits, setShits] = useState([])\r\n    const shitFor = props.shitFor\r\n    const[shitGiven, setShitGiven] = useState(false)\r\n\r\n    const fetchData = async() => {\r\n        const url = '/api/shits/'+shitFor.type+'/'+shitFor.id\r\n        await fetch(url, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },  \r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok && (response.status != 409)) {\r\n                // get error message from body or default to response status \r\n                const error = (data && data.message) || response.status;\r\n                console.log(error)\r\n                return Promise.reject(error);\r\n            }     \r\n            let shitGiven = false\r\n            for(let i = 0; i < data.length; i++){\r\n                if(data[i].UserId == sessionStorage.getItem('id')){\r\n                    shitGiven = true\r\n                }\r\n            }\r\n            setShits(data)\r\n            setShitGiven(shitGiven)\r\n\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n\r\n    }, [props.viewFocus])\r\n\r\n    const clickShitHandler = async() => {\r\n        const UserId = sessionStorage.getItem('id')\r\n        const PostId = shitFor.type == 'post' ? shitFor.id : null\r\n        const CommentId = shitFor.type == 'comment' ? shitFor.id : null\r\n        console.log(PostId+' '+CommentId)\r\n        if(!UserId){\r\n            return window.alert(\"You must be logged in to give a shit!\")\r\n        }\r\n        if(!shitGiven){\r\n            await fetch('/api/shits', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    UserId: UserId,\r\n                    PostId: PostId,\r\n                    CommentId: CommentId,\r\n                    sessionId: sessionStorage.getItem('session')\r\n                }),\r\n                credentials: 'include'\r\n            })\r\n            .then(async response => {\r\n                const isJson = response.headers.get('content-type')?.includes('application/json');\r\n                const data = isJson && await response.json();\r\n                \r\n        \r\n                //If the response is not okay (200).\r\n                if (!response.ok) {\r\n                    //Display error message on the UI by setting the warning, and reject.\r\n                    const error = (data && data.message) || response.status;\r\n                    if(error == 409){\r\n                        setShitGiven(true)\r\n                    }\r\n                    return Promise.reject(error);\r\n                }\r\n                //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n                //the data to the console.\r\n                fetchData()\r\n                setShitGiven(true)\r\n                console.log(data);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error! ', error);\r\n            })\r\n        }\r\n        else{\r\n            await fetch('/api/shits', {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    UserId: UserId,\r\n                    PostId: PostId,\r\n                    CommentId: CommentId,\r\n                    sessionId: sessionStorage.getItem('session')\r\n                }),\r\n                credentials: 'include'\r\n            })\r\n            .then(async response => {\r\n                const isJson = response.headers.get('content-type')?.includes('application/json');\r\n                const data = isJson && await response.json();\r\n                \r\n        \r\n                //If the response is not okay (200).\r\n                if (!response.ok) {\r\n                    //Display error message on the UI by setting the warning, and reject.\r\n                    const error = (data && data.message) || response.status;\r\n                    return Promise.reject(error);\r\n                }\r\n                //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n                //the data to the console.\r\n                fetchData()\r\n                setShitGiven(false)\r\n                console.log(data);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error! ', error);\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    const renderTooltip = (shitGiven) => (\r\n        <Tooltip id=\"shit-tooltip\" {...props}>\r\n          {!shitGiven ? 'Do you give a shit?' : 'Shit given!'}\r\n        </Tooltip>\r\n      );\r\n    \r\n    if(shitFor.type === 'post'){\r\n        return(\r\n            <>\r\n                {<h6 className=\"mb-1 p-0 text-center\">{shits.length}</h6>}\r\n                <OverlayTrigger\r\n                placement=\"right\"\r\n                delay={{ show: 250, hide: 400 }}\r\n                overlay={renderTooltip(shitGiven)}>\r\n                    <div className=\"text-center\">\r\n                        <Image className=\"max-30px\" onClick={() => clickShitHandler()} fluid src={shitGiven ? shitIcon : noShitIcon} />\r\n                    </div>\r\n                </OverlayTrigger>\r\n            </>\r\n        );\r\n    }\r\n    else {\r\n        return(\r\n            <Row>\r\n                <Col>\r\n                    <OverlayTrigger\r\n                    placement=\"right\"\r\n                    delay={{ show: 250, hide: 400 }}\r\n                    overlay={renderTooltip(shitGiven)}>\r\n                        <div>\r\n                            <Image className=\"max-25px\" onClick={() => clickShitHandler()} fluid src={shitGiven ? shitIcon : noShitIcon} />\r\n                        </div>\r\n                    </OverlayTrigger>\r\n                </Col>\r\n                <Col className=\"ps-0\">\r\n                    {<span className=\"p-0 text-center align-middle\">{shits.length}</span>}\r\n                </Col>\r\n            </Row>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Shit","import { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Container, Pagination, Card, Row, Col } from 'react-bootstrap'\r\nimport Shit from './Shit'\r\n\r\nfunction Home(props){\r\n    const [user, setUser] = useState()\r\n    const [posts, setPosts] = useState([])\r\n\r\n    const fetchData = async(displayName) => {\r\n        console.log(displayName)\r\n        if(displayName != null){\r\n            await fetch('/api/users/'+displayName+'/memberships/posts/0/25', {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                credentials: 'include'\r\n            })\r\n            .then(async response => {\r\n                const isJson = response.headers.get('content-type')?.includes('application/json');\r\n                const data = isJson && await response.json();\r\n                \r\n    \r\n                // check for error response\r\n                if (!response.ok) {\r\n                    // get error message from body or default to response status \r\n                    const error = (data && data.message) || response.status;\r\n                    return Promise.reject(error);\r\n                }\r\n                setUser(data)\r\n                const postArray = data.memberships.map(section => section.Posts).flat().sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt))\r\n                setPosts(postArray)\r\n                if(postArray.length == 0){\r\n                    props.onFocusChange({type: 'menu', name: 'Top Posts'})\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('Error! ', error);\r\n            })\r\n\r\n        }\r\n        else {\r\n            await fetch('/api/posts/unauth/0/25', {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                credentials: 'include'\r\n            })\r\n            .then(async response => {\r\n                const isJson = response.headers.get('content-type')?.includes('application/json');\r\n                const data = isJson && await response.json();\r\n                \r\n    \r\n                // check for error response\r\n                if (!response.ok) {\r\n                    // get error message from body or default to response status \r\n                    const error = (data && data.message) || response.status;\r\n                    return Promise.reject(error);\r\n                }\r\n                const postArray = data.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt))\r\n                setPosts(postArray)\r\n            })\r\n            .catch(error => {\r\n                console.error('Error! ', error);\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        const displayName = sessionStorage.getItem('displayName')\r\n        if(displayName){         \r\n            fetchData(displayName)\r\n        }\r\n        else {\r\n            fetchData(null)\r\n        }\r\n\r\n    }, [props.isLoggedIn, props.viewFocus])\r\n    \r\n    const pageCount = () => {\r\n        const pageCount = Math.ceil(props.memberSections.length/25)\r\n        return pageCount\r\n    }\r\n\r\n    let active = 1;\r\n    let items = [];\r\n    for (let number = 1; number <= pageCount(); number++) {\r\n        items.push(\r\n            <Pagination.Item key={number} active={number === active}>\r\n            {number}\r\n            </Pagination.Item>,\r\n        );\r\n    }\r\n\r\n    return(\r\n        <Container>\r\n        <h2>Recent Updates</h2>\r\n            {(posts.length > 0) &&\r\n               posts.map(post =>\r\n                <Card key={post.id+post.title}>\r\n                <Card.Body>\r\n                    <Row>\r\n                        <Col xs={2} sm={2} md={1} lg={1} xl={1} className=\"p-0\">\r\n                            <Shit shitFor={{type: 'post', id: post.id.toString()}} />\r\n                        </Col>\r\n                        <Col xs={10} sm={10} md={11} lg={11} xl={11} onClick={() => props.onFocusChange({type: 'post', name: post.title})}>\r\n                            <Link to={`/post/${post.id}`} style={{all: 'unset'}}>\r\n                                <Card.Title>{\r\n                                post.title.length > 125 ?\r\n                                post.title.substring(0, 125)+'...' :\r\n                                post.title\r\n                                }\r\n                                </Card.Title>\r\n                                <Card.Text>\r\n                                {\r\n                                    post.body.length > 125 ?\r\n                                    post.body.substring(0, 125)+'...' :\r\n                                    post.body\r\n                                    }\r\n                                </Card.Text>      \r\n                            </Link>                 \r\n                        </Col>\r\n                    </Row>\r\n                </Card.Body>\r\n            </Card> \r\n                )\r\n            }\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Home","import { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Container, Card, Row, Col } from 'react-bootstrap'\r\nimport Shit from './Shit'\r\n\r\nfunction TopPosts(props){\r\n    const [user, setUser] = useState()\r\n    const [posts, setPosts] = useState([])\r\n\r\n    const fetchData = async() => {\r\n        await fetch('/api/posts/unauth/0/25', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok) {\r\n                // get error message from body or default to response status \r\n                const error = (data && data.message) || response.status;\r\n                return Promise.reject(error);\r\n            }\r\n            const postArray = data.sort((a, b) => b.Shits.length - a.Shits.length)\r\n            setPosts(postArray)\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n\r\n    }, [props.isLoggedIn, props.viewFocus])\r\n    \r\n\r\n\r\n    return(\r\n        <>\r\n\r\n        <Container>\r\n        <h2>Top Posts</h2>\r\n            {(posts.length > 0) &&          \r\n               posts.map((post, index) =>\r\n               <Row className=\"row align-items-center\">\r\n                   <Col xs={1} sm={1} md={1} lg={1} xl={1} >\r\n                        <h6 className=\" float-end\">{index+1}</h6>\r\n                   </Col>\r\n                   <Col xs={11} sm={11} md={11} lg={11} xl={11}>\r\n                        <Card key={post.id+post.title}>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    <Col xs={2} sm={2} md={1} lg={1} xl={1} className=\"p-0\">\r\n                                        <Shit shitFor={{type: 'post', id: post.id}} />\r\n                                    </Col>\r\n                                    <Col xs={10} sm={10} md={11} lg={11} xl={11} onClick={() => props.onFocusChange({type: 'post', name: post.title})}>\r\n                                        <Link to={`/post/${post.id}`} style={{all: 'unset'}}>\r\n                                            <Card.Title>{\r\n                                            post.title.length > 125 ?\r\n                                            post.title.substring(0, 125)+'...' :\r\n                                            post.title\r\n                                            }\r\n                                            </Card.Title>\r\n                                            <Card.Text>\r\n                                            {\r\n                                                post.body.length > 125 ?\r\n                                                post.body.substring(0, 125)+'...' :\r\n                                                post.body\r\n                                                }\r\n                                            </Card.Text>\r\n                                        </Link>                      \r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Card> \r\n                   </Col>\r\n               </Row>\r\n                )\r\n            }\r\n        </Container>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default TopPosts","import { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Container, Row, Col, Card } from 'react-bootstrap'\r\nimport Shit from './Shit'\r\n\r\nfunction NewPosts(props){\r\n    const [user, setUser] = useState()\r\n    const [posts, setPosts] = useState([])\r\n\r\n    const fetchData = async() => {\r\n        await fetch('/api/posts/unauth/0/25', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok) {\r\n                // get error message from body or default to response status \r\n                const error = (data && data.message) || response.status;\r\n                return Promise.reject(error);\r\n            }\r\n            console.log(data)\r\n            const postArray = data.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))\r\n            console.log(postArray)\r\n            setPosts(data)\r\n            console.log(data)\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n\r\n    }, [props.isLoggedIn, props.viewFocus])\r\n    \r\n\r\n    return(\r\n        <Container>\r\n        <h2>New Posts</h2>\r\n            {(posts.length > 0) &&\r\n            \r\n               posts.map(post =>\r\n                    <Card key={post.id+post.title}>\r\n                    <Card.Body>\r\n                        <Row>\r\n                            <Col xs={2} sm={2} md={1} lg={1} xl={1} className=\"p-0\">\r\n                                <Shit shitFor={{type: 'post', id: post.id.toString()}} />\r\n                            </Col>\r\n                            <Col xs={10} sm={10} md={11} lg={11} xl={11} onClick={() => props.onFocusChange({type: 'post', name: post.title})}>\r\n                                <Link to={`/post/${post.id}`} style={{all: 'unset'}}>\r\n                                    <Card.Title>{\r\n                                    post.title.length > 125 ?\r\n                                    post.title.substring(0, 125)+'...' :\r\n                                    post.title\r\n                                    }\r\n                                    </Card.Title>\r\n                                    <Card.Text>\r\n                                    {\r\n                                        post.body.length > 125 ?\r\n                                        post.body.substring(0, 125)+'...' :\r\n                                        post.body\r\n                                        }\r\n                                    </Card.Text>\r\n                                </Link>                          \r\n                            </Col>\r\n                        </Row>\r\n                    </Card.Body>\r\n                </Card> \r\n                )\r\n            }\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default NewPosts","import { useEffect, useState } from 'react'\r\nimport { Card, Row, Col, Image, Container, Button, Form } from 'react-bootstrap'\r\nimport Shit from './Shit'\r\n\r\n\r\nfunction Search(props){\r\n    console.log(props.search)\r\n    const [userId, setUserId] = useState()\r\n    const [sections, setSections] = useState([])\r\n    const [posts, setPosts] = useState([])\r\n    const [users, setUsers] = useState([])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async() => {\r\n            const url = '/api/search/'+encodeURIComponent(props.search)\r\n            await fetch(url, {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                credentials: 'include'\r\n            })\r\n            .then(async response => {\r\n                const isJson = response.headers.get('content-type')?.includes('application/json');\r\n                const data = isJson && await response.json();\r\n                \r\n    \r\n                // check for error response\r\n                if (!response.ok) {\r\n                    // get error message from body or default to response status \r\n                    const error = (data && data.message) || response.status;\r\n                    return Promise.reject(error);\r\n                }\r\n                console.log(data);\r\n                setUserId(sessionStorage.getItem('id'))\r\n                setSections(data.Sections)\r\n                const postArray = data.Posts.sort((a, b) => b.Shits.length - a.Shits.length)\r\n                setPosts(postArray)\r\n                setUsers(data.Users)\r\n\r\n            })\r\n            .catch(error => {\r\n                console.error('Error! ', error);\r\n            })\r\n        }\r\n        \r\n        fetchData();\r\n\r\n    }, [props.viewFocus])\r\n\r\n    return(\r\n        <Container>\r\n            <Row>\r\n                <Col xs={12} sm={12} md={12} lg={7} xl={6}>\r\n                    <h2>Posts</h2>\r\n                    {(posts.length > 0 ) ?\r\n                        posts.map( post => \r\n                            <Card key={post.id+post.title} onClick={event => props.onFocusChange({type: 'post', name: post.title})}>\r\n                                <Card.Body>\r\n                                    <Row>\r\n                                            <Col xs={2} sm={2} md={2} lg={2} xl={2}>\r\n                                                <Shit shitFor={{type: 'post', id: post.id}} />\r\n                                            </Col>\r\n                                            <Col xs={10} sm={10} md={10} lg={9} xl={8}>\r\n                                                <Card.Title>{\r\n                                                    post.title.length > 125 ?\r\n                                                    post.title.substring(0, 125)+'...' :\r\n                                                    post.title\r\n                                                    }\r\n                                                </Card.Title>\r\n                                                <Card.Text>\r\n                                                {\r\n                                                    post.body.length > 125 ?\r\n                                                    post.body.substring(0, 125)+'...' :\r\n                                                    post.body\r\n                                                    }\r\n                                                </Card.Text>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                </Card.Body>\r\n                            </Card> \r\n                        ) : \"0 found\"}\r\n                </Col>\r\n                <Col xs={12} sm={12} md={6} lg={5} xl={3} className=\"pt-2\">\r\n                    <h2>Sections</h2>\r\n                    {(sections.length > 0 ) ?\r\n            sections.map( section => \r\n                <Card key={section.id+section.title} onClick={event => props.onFocusChange({type: 'section', name: section.title})}>\r\n                    <Card.Body>\r\n                        <Card.Title>{\r\n                            section.title.length > 125 ?\r\n                            section.title.substring(0, 125)+'...' :\r\n                            section.title\r\n                            }\r\n                        </Card.Title>\r\n                        <Card.Text>\r\n                        {\r\n                            section.description.length > 125 ?\r\n                            section.description.substring(0, 125)+'...' :\r\n                            section.description\r\n                            }\r\n                        </Card.Text>\r\n                    </Card.Body>\r\n                </Card> \r\n            ) : \"0 found\"}\r\n                </Col>\r\n                <Col xs={12} sm={12} md={6} lg={6} xl={3} className=\"pt-2\">\r\n                    <h2>Users</h2>\r\n                            {(users.length > 0 ) ?\r\n                    users.map( user => \r\n                        <Card key={user.id+user.displayName} onClick={event => props.onFocusChange({type: 'user', name: user.displayName})}>\r\n                            <Card.Body>\r\n                                <Card.Title>{\r\n                                    user.displayName.length > 125 ?\r\n                                    user.displayName.substring(0, 125)+'...' :\r\n                                    user.displayName\r\n                                    }\r\n                                </Card.Title>\r\n                            </Card.Body>\r\n                        </Card> \r\n                    ) : \"0 found\" }      \r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Search","import { Form, Button, Container, Row, Col } from 'react-bootstrap'\r\nimport { useState } from 'react'\r\n\r\n\r\n//The funcionality behind section creation. Users create sections which their peers and themselves can post\r\n//things that they don't like. This form makes a fetch request to the API to confirm credentials, and create\r\n//a new custom section with them. \r\nfunction SectionForm(props) {\r\n    //A default empty warning state that can be used to populate warnings displayed in response from the server.\r\n    const [warning, setWarning] = useState(\"\")\r\n\r\n    //The submitHandler is an async function that makes a fetch request to the api, and confirms validitiy of session\r\n    //credentials and creates a new session if authorized.\r\n    const submitHandler = async(event) => {\r\n        //Prevent the default page refresh on submit.\r\n        event.preventDefault();\r\n        //Create a form object containing the elements.\r\n        const form = event.target.elements\r\n\r\n        await fetch('/api/sections', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                title: form.sectionTitle.value,\r\n                description: form.description.value,\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            console.log(data.title)\r\n            props.onFocusChange({type: 'section', name: data.title})\r\n            setWarning(\"\")\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    //Sets the focus to \"Home\" on cancellation.\r\n    const cancelHandler = () => {\r\n        props.onFocusChange({type: 'menu', name: \"Home\"})\r\n    }\r\n    \r\n    return(\r\n        <Container>\r\n            <Row className=\"justify-content-center\">\r\n                <Col  xs={12} sm={12} md={8} lg={8} xl={6}>\r\n                    <Form onSubmit={event => submitHandler(event)}>\r\n                        <Form.Group controlId=\"sectionTitle\">\r\n                            <Form.Label>Title</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Your new section's title\" />\r\n                            <Form.Label style={{color: \"red\"}}>\r\n                                {warning}\r\n                            </Form.Label>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"description\">\r\n                            <Form.Label>Description</Form.Label>\r\n                            <Form.Control as=\"textarea\" rows={8} placeholder=\"A brief description of the section\" />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formButtons\">\r\n                            <Button variant=\"primary\" className=\"m-2\" onClick={cancelHandler}>\r\n                                Cancel\r\n                            </Button>\r\n\r\n                            <Button variant=\"primary\" className=\"m-2\" type=\"submit\">\r\n                                Submit\r\n                            </Button>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n\r\n    );\r\n}\r\nexport default SectionForm","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAB0UlEQVRoge2YsUrDQBjHf4mCbsXVd3CK4KibvoE4CuUyd6+YgHvnHgUfQ4ovYMGuvoEP0E1BGocYiEdySZrk7sT8x+O+4/e7fhfoB0OG/O94tgHyEUJMgDvg3fO82/l8/lpV44yAECIC7nNLm+12e7VYLF50dU4IFMBnqZSwLqCBz6KVsCpQAv8JHChrG+BSSrlSz/B7YqtMCfwGOAdiZX0ELMMwPFXP2e8HTx8NfHbLKyEEyp5RkiSPwEm+yPgvoOn5mdIiT8CHsudYLTIqUPFgp2EYXv/sOwOWwKGy50EtMvaIa3xtAL5IISekfZ9PLKWM1AIjApqenwFTqt9iITwYaKGKBxt7nndDevNlicrgAfY6YCxNja8N6/X6LQgCH7goOCKWUqqf1F/prYXqwAOMx+PA9/1n4EjZG1XBQ08CpuChBwGT8NCxgGl46FDABjx0JGALHjoQsAkPLQVsw0MLARfgYUcBV+BhBwGX4KGhgGvw0EDARXioKeAqPNQQcBkeKgRchweNwF+AB/1fSufhodlg6xd8bvRRND0wAg8NBNSbJx08qfDGbj5L46mEC22Tj+4RJw3OsQIP3cyFrMFDewGr8NBOwDr8kCFDhtjPN6ZWU6E3QqN4AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAD1ElEQVR4nO2cvW4TQRRGz9gdToMQEh1P4dDHeYWlQSDR8FNAEhoo00FFElLwUxBBiV8BS2lDniKih8YmQiK5FIntTYIV787Mzh1xT2nv7Ox+x7OenbUvGIZhGIZhGIZhGIZhGIZhGIZheCBF0RZwqY+jLgJO1mnF7CNaOFIU7dHPgx0ROVwY7D9yILH6ioGAG/VubSJyo3N85Y7b3f0To58oAsbhI9wFEORDThIm4SNPT1/4EktCcAHnw5+8nomEC+FP34giIaiAWeFP3lcuYWb40w2CSwgm4LLwJ9splXBp+NMNg0oIImDe8CfbK5Mwd/jTBsEkeE+xpCjaox8Hn+YNH8DhHvxaWtzSMEWtHD6A4/aofbgjRdH27d9bgOv3jxD3vWo7cTwZ9rrvUkqoFf6krYzo9499jyHYyQ+Xbr3EyYuq7VJdjvzC5/3C4NvjEMcc9NOXiwQt4UOE4a9dgqbwIdL1V6sEbeFDxC9AbRI0hg+RZyDD5cVXCM+rtgstQWv40MAUMLUEzeFDQ3PwVBK0hw8N3gQ1LSGH8KHhu9CmJOQSPiRYBogtIafwIdE6TCwJuYUPCRfCQkvIMXxIvBxcX8LZwHINHxSsx/tKAMg1fFAgAPwkONzvXMMHJQKgvoQ6aAkfFAmAZiRoCh+UCYC4ErSFDwoFQBwJGsMHpQIgrASt4YNiASdz++4GuBXP/agNHxQLAH8J2sOHAL8Lik9L9YfEF7Un57O8cG4/qkeBSgGhwi/tT60EdQJCh1/ar0oJqgTECr+0f3US1AiIHX6pH1USVAhoKvxSf2okJJ+G+j5MAdmq2s7Bw2Fv8a2G/yckPYAQT7IA6t6saRgJmf454l+PJPOUkOQSFPoZrgPpDPbXwL2pur/Ul6PGO435AD3Hh/ONCmgioNwkNCagyWByktCIgBSB5CIhuoCUQeQgIeosKHUAJ7OjvdW6s6NRr7sRe3YUr16Qok+f31KHbHUG+2uxRkKUEaApfPAbCeBWRsvd17FGQvh6QcrCD3VsONnsfN1/pvpvqprDL/WjSkK4ekEZhF/qT42EMPWCMgq/1K8KCd4Ccgy/1H9yCf6zoKJogVyr2swJ2wrW4qUz2Ft1wnblxuKun5y79zH4U71kWfoHIWUqj4SAJcvCfQnPXbRPV/hj5pYQuGhfsBsx1+8fda7evA98nrWN1vBhzps1zWUrx5wW8fsI3DvzuuLwy8wcCTkUbh1zXkIu4Y+5ICGn0sVjxhIEDnMKf8xEQuTi3VGRdVoafntTFwEXojaoYRiGYRiGYRiGYRiGYRiGYRj/N38BIo7a6agchMAAAAAASUVORK5CYII=\"","import { useEffect, useState } from 'react'\r\nimport { Card, Row, Col, Image, Container, Button, Form } from 'react-bootstrap'\r\nimport Shit from './Shit'\r\nimport editIcon from '../images/icons8-edit-48.png'\r\nimport deleteIcon from '../images/icons8-delete-96.png'\r\n\r\nfunction Section(props) {\r\n    const [section, setSection] = useState({})\r\n    const [memberships, setMemberships] = useState([])\r\n    const [moderator, setModerator] = useState({})\r\n    const [isMember, setIsMember] = useState(false)\r\n    const [posts, setPosts] = useState([])\r\n    const [editing, setEditing] = useState(false)\r\n    const [warning, setWarning] = useState('')\r\n    const userId = props.userId;\r\n\r\n    const fetchSection = async() => {\r\n        console.log(props.viewFocus.name)\r\n        await fetch('/api/sections/'+props.viewFocus.name, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok) {\r\n                // get error message from body or default to response status \r\n                const error = (data && data.message) || response.status;\r\n                window.alert(error)\r\n                return Promise.reject(error);\r\n            }\r\n            console.log(data)\r\n\r\n            setSection(data)\r\n            const postArray = data.Posts.sort((a, b) => b.Shits.length - a.Shits.length)\r\n            setPosts(postArray)\r\n            setMemberships(data.members)\r\n            setModerator(data.members[0])\r\n            const membership = membershipCheck(data.members, sessionStorage.getItem('id'))\r\n            setIsMember(membership)\r\n\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n\r\n\r\n    useEffect(() => {  \r\n        fetchSection()\r\n\r\n    }, [props.viewFocus])\r\n\r\n    const submitEditHandler = async(event) => {\r\n        //Prevent the default page refresh on submit.\r\n        event.preventDefault();\r\n        //Create a form object containing the elements.\r\n        const form = event.target.elements\r\n        await fetch('/api/sections', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                title: section.title,\r\n                description: form.description.value,\r\n                UserId: sessionStorage.getItem('id'),\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            setEditing(false)\r\n            setSection(data)\r\n            setMemberships(section.members)\r\n            const postArray = section.Posts.sort((a, b) => b.Shits.length - a.Shits.length)\r\n            setPosts(postArray)\r\n            setWarning(\"\")\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    const editingButtonHandler = (value) => {\r\n        setEditing(value)\r\n    }\r\n\r\n    const deleteButtonHandler = async() => {\r\n        if(!window.confirm(\"Are you sure you want to delete this section?\")){\r\n            return\r\n        }\r\n\r\n        await fetch('/api/sections', {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                title: section.title,\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n\r\n            props.onFocusChange({type: \"menu\", name: \"Home\"})\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    const membershipCheck = (members, id) => {\r\n        let membership = false\r\n        for(let i = 0; i < members.length; i++){\r\n            if(members[i].id == id){\r\n                membership = true\r\n            }\r\n        }\r\n\r\n        return membership;\r\n    }\r\n\r\n    const joinButtonClickHandler = async(isMember) => {\r\n        if(!userId){\r\n            return window.alert(\"You must be logged in to join!\")\r\n        }\r\n        if(section.UserId == userId){\r\n            return window.alert(\"You are the moderator you can't abandon your section!\")\r\n        }\r\n        const url = isMember ? '/users/memberships/remove/' : '/users/memberships/add/'\r\n        console.log(section.title)\r\n        await fetch(url, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                displayName: sessionStorage.getItem('displayName'),\r\n                title: section.title,\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('applickaation/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            setIsMember(!isMember)\r\n            fetchSection()\r\n            props.onFocusChange({type: \"section\", name: section.title})\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    const makePostButtonHandler = () => {\r\n        props.onMakePost(section.title);\r\n        props.onFocusChange({type: 'menu', name: 'Create a new post'})\r\n    }\r\n\r\n    return(\r\n    <Container className=\"pb-3\">\r\n        <Row className=\"mb-3\">\r\n            <Col xs={10} sm={10} md={10} lg={9} xl={8}>\r\n                <h1>{section && section.title}</h1>\r\n                <h6 onClick={() => props.onFocusChange({type: 'user', name: moderator.displayName})}>Moderator: {moderator && moderator.displayName}</h6>\r\n                {!editing && <span>{section && section.description}</span>}\r\n                <h6>{memberships && memberships.length} Members</h6>\r\n                <Button variant=\"secondary\" onClick={event => joinButtonClickHandler(isMember)}>{!isMember ? 'become member' : 'cancel membership'}</Button>\r\n                {isMember && <Button variant=\"secondary\" className=\"ms-3\" onClick={event => makePostButtonHandler()}>make a post</Button>}\r\n                {editing && \r\n                <Form onSubmit={event => submitEditHandler(event)}>\r\n                    <Form.Group controlId=\"description\">\r\n                        <Form.Label>Description</Form.Label>\r\n                        <Form.Control required as=\"textarea\" rows={8} defaultValue={section.description}></Form.Control>\r\n                    </Form.Group>\r\n        \r\n                    <Form.Group controlId=\"formButtons\">\r\n                        <Button variant=\"primary\" className=\"m-2\" onClick={event => editingButtonHandler(false)}>\r\n                            Cancel\r\n                        </Button>\r\n        \r\n                        <Button variant=\"primary\" className=\"m-2\" type=\"submit\">\r\n                            Submit\r\n                        </Button>\r\n                        <Form.Label style={{color: \"red\"}}>\r\n                            {warning}\r\n                        </Form.Label>\r\n                    </Form.Group>\r\n                </Form>              \r\n                }\r\n            </Col>\r\n            <Col xs={1} sm={1} md={1} lg={1} xl={1}>\r\n                {section.UserId == userId && \r\n                    <>\r\n                        <Image className=\"edit p-1\"\r\n                        width={25}\r\n                        height={25}\r\n                        src={editIcon}\r\n                        alt=\"Edit\"\r\n                        onClick={event => editingButtonHandler(true)}\r\n                        />\r\n\r\n                        <Image className=\"delete p-1\"\r\n                        width={25}\r\n                        height={25}\r\n                        src={deleteIcon}\r\n                        alt=\"Delete\"\r\n                        onClick={event => deleteButtonHandler()}\r\n                        />\r\n                    </>\r\n                }\r\n            </Col>\r\n        </Row>\r\n        <Container>\r\n            {(posts.length > 0 ) &&\r\n            posts.map( post => \r\n                <Card key={post.id+post.title} onClick={() => props.onFocusChange({type: 'post', name: post.title})}>\r\n                    <Card.Body>\r\n                        <Row>\r\n                            <Col xs={1} sm={1} md={1} lg={1} xl={1}>\r\n                                <Shit shitFor={{type: 'post', id: post.id}} />\r\n                            </Col>\r\n                            <Col xs={10} sm={10} md={10} lg={9} xl={8}>\r\n                                <Card.Title>{\r\n                                    post.title.length > 125 ?\r\n                                    post.title.substring(0, 125)+'...' :\r\n                                    post.title\r\n                                    }\r\n                                </Card.Title>\r\n                                <Card.Text>\r\n                                {\r\n                                    post.body.length > 125 ?\r\n                                    post.body.substring(0, 125)+'...' :\r\n                                    post.body\r\n                                    }\r\n                                </Card.Text>\r\n                            </Col>\r\n                        </Row>\r\n\r\n                    </Card.Body>\r\n                </Card> \r\n            )}\r\n        </Container>\r\n    </Container>\r\n    );\r\n}\r\n\r\nexport default Section","import { Form, Button, Container, Row, Col } from 'react-bootstrap'\r\nimport { useState } from 'react'\r\n\r\n\r\n//The funcionality behind post creation. Users create posts which their peers and themselves can post\r\n//things that they don't like. This form makes a fetch request to the API to confirm credentials, and create\r\n//a new custom section with them. \r\nfunction PostForm(props) {\r\n    //A default empty warning state that can be used to populate warnings displayed in response from the server.\r\n    const [warning, setWarning] = useState('')\r\n    const [defaultSection, setDefaultSection] = useState('')\r\n\r\n    //The submitHandler is an async function that makes a fetch request to the api, and confirms validitiy of session\r\n    //credentials and creates a new session if authorized.\r\n    const submitHandler = async(event) => {\r\n        //Prevent the default page refresh on submit.\r\n        event.preventDefault();\r\n        const UserId = sessionStorage.getItem('id')\r\n        if(!UserId){\r\n            return window.alert(\"You must be logged in to comment!\")\r\n        }\r\n        //Create a form object containing the elements.\r\n        const form = event.target.elements\r\n        await fetch('/api/posts', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                title: form.postTitle.value.normalize(),\r\n                body: form.body.value.normalize(),\r\n                sectionTitle: form.sectionTitle.value.normalize(),\r\n                UserId: sessionStorage.getItem('id'),\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            props.onFocusChange({type: 'post', name: data.title})\r\n            setWarning(\"\")\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    //Sets the focus to \"Home\" on cancellation.\r\n    const cancelHandler = () => {\r\n        props.onFocusChange({type: 'menu', name: 'Home'})\r\n    }\r\n    \r\n    return(\r\n        <Container>\r\n            <Row className=\"justify-content-center\">\r\n                <Col  xs={12} sm={12} md={8} lg={8} xl={6}>\r\n                    <Form onSubmit={event => submitHandler(event)}>\r\n                        <Form.Group controlId=\"postTitle\">\r\n                            <Form.Label>Title</Form.Label>\r\n                            <Form.Control required type=\"text\" placeholder=\"Your new post's title\" />\r\n\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"sectionTitle\">\r\n                            <Form.Label>Section</Form.Label>\r\n                            <Form.Control defaultValue={props.defaultSection} required type=\"text\" placeholder=\"What section would you like to post in?\" />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"body\">\r\n                            <Form.Label>Body</Form.Label>\r\n                            <Form.Control required as=\"textarea\" rows={8} placeholder=\"What message would you like to share?\" />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formButtons\">\r\n                            <Button variant=\"primary\" className=\"m-2\" onClick={cancelHandler}>\r\n                                Cancel\r\n                            </Button>\r\n\r\n                            <Button variant=\"primary\" className=\"m-2\" type=\"submit\">\r\n                                Submit\r\n                            </Button>\r\n                            <Form.Label style={{color: \"red\"}}>\r\n                                {warning}\r\n                            </Form.Label>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n\r\n    );\r\n}\r\nexport default PostForm","import { Form, Button } from 'react-bootstrap'\r\nimport { useState } from 'react'\r\n\r\nfunction CommentForm(props) {\r\n    //A default empty warning state that can be used to populate warnings displayed in response from the server.\r\n    const [warning, setWarning] = useState('')\r\n\r\n    //The submitHandler is an async function that makes a fetch request to the api, and confirms validitiy of session\r\n    //credentials and creates a new session if authorized.\r\n    const submitHandler = async(event) => {\r\n        //Prevent the default page refresh on submit.\r\n        event.preventDefault();\r\n\r\n        const UserId = sessionStorage.getItem('id')\r\n        if(!UserId){\r\n            return window.alert(\"You must be logged in to comment!\")\r\n        }\r\n        //Create a form object containing the elements.\r\n        const form = event.target.elements\r\n        const PostId = props.post.id\r\n        const CommentId = props.commentTarget.type == 'comment' ? props.commentTarget.id : null\r\n\r\n        await fetch('/api/comments', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                body: form.body.value,\r\n                UserId: sessionStorage.getItem('id'),\r\n                PostId: PostId,\r\n                CommentId: CommentId,\r\n                sessionId: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            props.onCommentSubmit()\r\n            setWarning('')\r\n            event.target.reset()\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <Form onSubmit={event => submitHandler(event)}>\r\n            <Form.Group controlId=\"body\">\r\n                <Form.Label>Comment</Form.Label>\r\n                <Form.Control required as=\"textarea\" rows={8} placeholder=\"What comment would you like to make?\" />\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formButtons\">\r\n                <Button variant=\"primary\" className=\"m-2\" type=\"submit\">\r\n                    Submit\r\n                </Button>\r\n                <Form.Label style={{color: \"red\"}}>\r\n                    {warning}\r\n                </Form.Label>\r\n            </Form.Group>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default CommentForm","import { useState, useEffect } from 'react'\r\nimport { Card, Button, Row, Col, Image, Form } from 'react-bootstrap'\r\nimport CommentForm from './CommentForm'\r\nimport Shit from './Shit'\r\nimport editIcon from '../images/icons8-edit-48.png'\r\nimport deleteIcon from '../images/icons8-delete-96.png'\r\nimport parse from 'html-react-parser';\r\n\r\nfunction Comment(props) {\r\n    const [userId, setUserId] = useState()\r\n    const [comment, setComment] = useState(props.comment)\r\n    const [comments, setComments] = useState([])\r\n    const [showCommentForm, setShowCommentForm] = useState(false)\r\n    const [showComment, setShowComment] = useState(true)\r\n    const [editing, setEditing] = useState(false)\r\n    const [warning, setWarning] = useState('')\r\n\r\n    \r\n    const editingButtonHandler = (value) => {\r\n        setEditing(value)\r\n    }\r\n\r\n    const deleteButtonHandler = async() => {\r\n        if(!window.confirm(\"Are you sure you want to delete this comment?\")){\r\n            return\r\n        }\r\n\r\n\r\n        await fetch('/api/comments', {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                id: comment.id,\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay.\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Calls the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            setShowComment(false)\r\n            setWarning(\"\")\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    const submitEditHandler = async(event) => {\r\n        //Prevent the default page refresh on submit.\r\n        event.preventDefault();\r\n        //Create a form object containing the elements.\r\n        const form = event.target.elements\r\n        await fetch('/api/comments', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                id: comment.id,\r\n                body: form.body.value,\r\n                UserId: sessionStorage.getItem('id'),\r\n                PostId: comment.PostId,\r\n                CommentId: comment.CommentId,\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            setEditing(false)\r\n            setComment(data)\r\n            setComments(data.Comments)\r\n            setWarning(\"\")\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n\r\n    const fetchData = async() => {\r\n\r\n        await fetch('/api/comments/'+comment.id, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            //If the response is not okay.\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                console.log(error)\r\n                return Promise.reject(error);\r\n            }\r\n            console.log(data);\r\n            setComment(data)\r\n            const commentArray = data.Comments.sort((a, b) => b.Shits.length - a.Shits.length)\r\n            setComments(commentArray)\r\n            console.log(comments);\r\n\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        setUserId(sessionStorage.getItem('id'))\r\n        fetchData()\r\n\r\n    }, [props.viewFocus])\r\n    \r\n    const commentButtonHandler = (value) => {\r\n        if(showCommentForm && !(props.commentTarget.type == 'comment' &&\r\n        props.commentTarget.id == comment.id)){\r\n            commentTargetHandler(comment.id)\r\n        }\r\n        else{\r\n            setShowCommentForm(value)\r\n            commentTargetHandler(comment.id)\r\n        }\r\n    }\r\n\r\n    const commentTargetHandler = (value) => {\r\n        props.onCommentTargetChange(value)\r\n    }\r\n\r\n    const commentSubmitHandler = () => {\r\n        fetchData()\r\n        setShowCommentForm(false)\r\n    }\r\n\r\n    const CommentBody = () => {\r\n        if(!comment.body){\r\n            return\r\n        }\r\n        const text = comment.body;\r\n        console.log(text)\r\n\r\n        const regex = /(((https?:\\/\\/)|(www\\.))[^\\s]+)/g\r\n        const body = text.replace(regex, (url) => {\r\n            let hyperlink = url\r\n            if(!hyperlink.match('^https?:\\/\\/')){\r\n                hyperlink = 'https://'+hyperlink\r\n            }\r\n            return '<a href=\"'+hyperlink+'\">'+hyperlink+'</a>';\r\n        })\r\n        return (\r\n            <>{parse(body)}</>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {showComment &&\r\n            <Card className=\"p-0\">\r\n                <Card.Header>\r\n                    <Row xs=\"auto\" className=\"justify-content-between\">\r\n                        <Col onClick={() => props.onFocusChange({type: 'user', name: comment.User.displayName})}>\r\n                            {comment.User.displayName}\r\n                        </Col>\r\n                        <Col>\r\n                            {comment.UserId == userId && \r\n                                <>\r\n                                    <Image className=\"edit p-1\"\r\n                                    width={25}\r\n                                    height={25}\r\n                                    src={editIcon}\r\n                                    alt=\"Edit\"\r\n                                    onClick={event => editingButtonHandler(true)}\r\n                                    />\r\n                                </>\r\n                            }\r\n                            {(props.section.UserId == userId || comment.UserId == userId) && \r\n                                <>\r\n                                    <Image className=\"delete p-1\"\r\n                                    width={25}\r\n                                    height={25}\r\n                                    src={deleteIcon}\r\n                                    alt=\"Delete\"\r\n                                    onClick={event => deleteButtonHandler()}\r\n                                    />\r\n                                </>\r\n                            }\r\n                        </Col>\r\n                    </Row>              \r\n                </Card.Header>\r\n                <Card.Body className=\"ps-1 pe-0 pb-0\">\r\n                    <Row>\r\n                        <Card.Text>\r\n                            {!editing && <CommentBody />}\r\n                            {editing && \r\n                            <Form onSubmit={event => submitEditHandler(event)}>\r\n                                <Form.Group controlId=\"body\">\r\n                                    <Form.Label>Body</Form.Label>\r\n                                    <Form.Control required as=\"textarea\" rows={8}>{comment.body}</Form.Control>\r\n                                </Form.Group>\r\n                    \r\n                                <Form.Group controlId=\"formButtons\">\r\n                                    <Button variant=\"primary\" className=\"m-2\" onClick={event => editingButtonHandler(false)}>\r\n                                        Cancel\r\n                                    </Button>\r\n                    \r\n                                    <Button variant=\"primary\" className=\"m-2\" type=\"submit\">\r\n                                        Submit\r\n                                    </Button>\r\n                                    <Form.Label style={{color: \"red\"}}>\r\n                                        {warning}\r\n                                    </Form.Label>\r\n                                </Form.Group>\r\n                            </Form>              \r\n                            }\r\n                        </Card.Text>\r\n                    </Row>\r\n                    <Row className=\"mt-3\" xs=\"auto\">\r\n                        <Col>\r\n                            <Shit shitFor={{type: 'comment', id: comment.id}} />\r\n                        </Col>\r\n                        <Col>\r\n                            {(!showCommentForm || !(props.commentTarget.type == 'comment' &&\r\n                            props.commentTarget.id == comment.id)) && <Button className=\"mb-1\" active={false} onClick={event => commentButtonHandler(!showCommentForm)} variant=\"secondary\">comment</Button>}\r\n                        </Col>\r\n\r\n                    </Row>\r\n                    <Row>\r\n                        <Col>                      \r\n                            {(showCommentForm && (props.commentTarget.type == 'comment' &&\r\n                            props.commentTarget.id == comment.id)) && <CommentForm post={props.post} onCommentSubmit={commentSubmitHandler} commentTarget={{type: 'comment', id: comment.id}}/>}\r\n                            {comments.length > 0 && comments.map( comment => <Comment onFocusChange={props.onFocusChange} section={props.section} post={props.post} key={comment.id} comment={comment} commentTarget={props.commentTarget} onCommentTargetChange={commentTargetHandler}></Comment>)}\r\n                        </Col>\r\n                    </Row>\r\n                </Card.Body>\r\n            </Card>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Comment","import { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { Button, Row, Col, Image, Form, Container } from 'react-bootstrap'\r\nimport editIcon from '../images/icons8-edit-48.png'\r\nimport deleteIcon from '../images/icons8-delete-96.png'\r\nimport CommentForm from './CommentForm'\r\nimport Comment from './Comment'\r\nimport Shit from './Shit'\r\nimport parse from 'html-react-parser';\r\n\r\nfunction Post(props) {\r\n    let { id } = useParams()\r\n    const [post, setPost] = useState({})\r\n    const [creator, setCreator] = useState({})\r\n    const [section, setSection] = useState({})\r\n    const [comments, setComments] = useState([])\r\n    const [commentTarget, setCommentTarget] = useState({type: 'post', id: null})\r\n    const [showCommentForm, setShowCommentForm] = useState(true)\r\n    const [editing, setEditing] = useState(false)\r\n    const [warning, setWarning] = useState('')\r\n    \r\n    const commentTargetHandler = (value) => {\r\n        setCommentTarget({type: 'comment', id: value})\r\n    }\r\n\r\n    const commentSubmitHandler = () => {\r\n        fetchPost()\r\n        setShowCommentForm(false)\r\n    }\r\n\r\n    const commentButtonHandler = (value) => {\r\n        if(showCommentForm && !(commentTarget.type === 'post' &&\r\n        commentTarget.id === post.id)){\r\n            setCommentTarget({type: 'post', id: post.id})\r\n        }\r\n        else{\r\n            setShowCommentForm(value)\r\n            setCommentTarget({type: 'post', id: post.id})\r\n        }\r\n    }\r\n\r\n    const editingButtonHandler = (value) => {\r\n        setEditing(value)\r\n    }\r\n\r\n    const deleteButtonHandler = async() => {\r\n        if(!window.confirm(\"Are you sure you want to delete this post?\")){\r\n            return\r\n        }\r\n\r\n        await fetch('/api/posts', {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                id: post.id,\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            props.onFocusChange({type: \"menu\", name: \"Home\"})\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n\r\n    const fetchPost = async() => {\r\n        const url = '/api/posts/'+id\r\n        await fetch(url, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // If the response is not okay return the error message.\r\n            if (!response.ok) {\r\n                const error = (data && data.message) || response.status;\r\n                console.log(error)\r\n                return Promise.reject(error);\r\n            }\r\n            setPost(data)\r\n            setCreator(data.User)\r\n            setSection(data.Section)\r\n            const postOnlyCommentArray = data.Comments.filter((value, index) => { return value.CommentId == null })\r\n            const commentArray = postOnlyCommentArray.sort((a, b) => b.Shits.length - a.Shits.length)\r\n            setComments(commentArray)     \r\n            setCommentTarget({type: 'post', id: data.id})\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchPost()\r\n\r\n    }, [props.viewFocus])\r\n\r\n    const submitEditHandler = async(event) => {\r\n        //Prevent the default page refresh on submit.\r\n        event.preventDefault();\r\n        //Create a form object containing the elements.\r\n        const form = event.target.elements\r\n        await fetch('/api/posts', {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                id: post.id,\r\n                title: post.title,\r\n                body: form.body.value,\r\n                UserId: sessionStorage.getItem('id'),\r\n                SectionId: section,\r\n                session: sessionStorage.getItem('session')\r\n            }),\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n    \r\n            //If the response is not okay (200).\r\n            if (!response.ok) {\r\n                //Display error message on the UI by setting the warning, and reject.\r\n                const error = (data && data.message) || response.status;\r\n                setWarning(data);\r\n                return Promise.reject(error);\r\n            }\r\n            //Call the function in the parent to set behaviour after form submission, set the warning and log\r\n            //the data to the console.\r\n            setEditing(false)\r\n            setPost(data)\r\n            setWarning(\"\")\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n    const Body = (props) => {\r\n        if(!props.body){\r\n            return\r\n        }\r\n\r\n        const text = props.body;\r\n\r\n        const regex = /(((https?:\\/\\/)|(www\\.))[^\\s]+)/g\r\n        const body = text.replace(regex, (url) => {\r\n            let hyperlink = url\r\n            if(!hyperlink.match('^https?:\\/\\/')){\r\n                hyperlink = 'https://'+hyperlink\r\n            }\r\n            return '<a href=\"'+hyperlink+'\">'+hyperlink+'</a>';\r\n        })\r\n        return (\r\n            <div className=\"pb-4 text-break\">{parse(body)}</div>\r\n        );\r\n    }\r\n\r\n    return(\r\n        <Container className=\"pb-3\">\r\n            <Row>\r\n                <Col>\r\n                    <Row>\r\n                        <Col xs={3} sm={2} md={2} lg={1} xl={1}>\r\n                            <Row>\r\n                                {post.id && <Shit shitFor={{type: 'post', id: post.id}} />}\r\n                            </Row>\r\n                        </Col>\r\n                        <Col xs={9} sm={10} md={10} lg={11} xl={11}>\r\n                            <Row>\r\n                                {section && <h4 className=\"pb-2 text-break\" onClick={event => props.onFocusChange({type: \"section\", name: section.title})} value={section.title}>/{section.title}/</h4>}\r\n                            </Row>\r\n                            <h1 className=\"pb-2\">{post.title}</h1>\r\n                            <Row className=\"pb-3 justify-content-between\">\r\n                                <Col xs={12} sm={7} md={7} lg={7} xl={7} xxl={7}>\r\n                                    {creator && <h6 className=\"text-break\" onClick={() => props.onFocusChange({type: 'user', name: creator.displayName})}>creator: {creator.displayName}</h6>}\r\n                                </Col>\r\n                                <Col xs={12} sm={2} md={2} lg={2} xl={2} xxl={1}>\r\n                                    {post.UserId === props.userId && \r\n                                        <>\r\n                                            <Image className=\"edit p-1\"\r\n                                            width={25}\r\n                                            height={25}\r\n                                            src={editIcon}\r\n                                            alt=\"Edit\"\r\n                                            onClick={event => editingButtonHandler(true)}\r\n                                            />\r\n                                        </>\r\n                                    }\r\n                                    {(post.UserId === props.userId || section.UserId === props.userId) && \r\n                                        <>\r\n                                            <Image className=\"delete p-1\"\r\n                                            width={25}\r\n                                            height={25}\r\n                                            src={deleteIcon}\r\n                                            alt=\"Delete\"\r\n                                            onClick={event => deleteButtonHandler()}\r\n                                            />\r\n                                        </>\r\n                                    }\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col xs={9} sm={10} md={10} lg={11} xl={11}>\r\n                                    {(!editing && post.body) && <Body body={post.body}></Body>}\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row className=\"justify-content-center pt-4\">\r\n                        {editing && \r\n                        <Form onSubmit={event => submitEditHandler(event)}>\r\n                            <Form.Group controlId=\"body\">\r\n                                <Form.Label>Body</Form.Label>\r\n                                <Form.Control required as=\"textarea\" rows={8} defaultValue={post.body}></Form.Control>\r\n                            </Form.Group>\r\n                \r\n                            <Form.Group controlId=\"formButtons\">\r\n                                <Button variant=\"primary\" className=\"m-2\" onClick={event => editingButtonHandler(false)}>\r\n                                    Cancel\r\n                                </Button>\r\n                \r\n                                <Button variant=\"primary\" className=\"m-2\" type=\"submit\">\r\n                                    Submit\r\n                                </Button>\r\n                                <Form.Label style={{color: \"red\"}}>\r\n                                    {warning}\r\n                                </Form.Label>\r\n                            </Form.Group>\r\n                        </Form>              \r\n                        }\r\n                        <Col xs={12} sm={11} md={11} lg={11} xl={10} xxl={10}>\r\n                            {(commentTarget.type === \"post\" && showCommentForm && !editing)  && <CommentForm post={post} onCommentSubmit={commentSubmitHandler} commentTarget={commentTarget}/>}\r\n                            <Row className=\"pb-4\">\r\n                                <Col >\r\n                                {(!showCommentForm || commentTarget.type !== \"post\") && <Button className=\"mb-3\" active={false} onClick={event => commentButtonHandler(!showCommentForm)} variant=\"secondary\">comment</Button>}\r\n                                </Col>\r\n                            </Row>\r\n                            <Row className=\"p-2\">\r\n                                <hr />\r\n                                {comments.length > 0 && comments.map( comment => <Comment section={section} post={post} key={comment.id} onFocusChange={props.onFocusChange} viewFocus={props.viewFocus} comment={comment} commentTarget={commentTarget} onCommentTargetChange={commentTargetHandler}></Comment>)}\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>             \r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Post","import { useEffect, useState } from 'react'\r\nimport { Card, Row, Col, Image, Container, Button, Form } from 'react-bootstrap'\r\nimport Shit from './Shit'\r\n\r\nfunction User(props){\r\n    const [user, setUser] = useState({})\r\n    const [posts, setPosts] = useState([])\r\n    const [sections, setSections] = useState([])\r\n    const [comments, setComments] = useState([])\r\n    const [shits, setShits] = useState([])\r\n    const [postShits, setPostShits] = useState(0)\r\n    const [commentShits, setCommentShits] = useState(0)\r\n\r\n\r\n    const fetchData = async() => {\r\n        console.log(props.viewFocus.name)\r\n        await fetch('/api/users/'+props.viewFocus.name, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'include'\r\n        })\r\n        .then(async response => {\r\n            const isJson = response.headers.get('content-type')?.includes('application/json');\r\n            const data = isJson && await response.json();\r\n            \r\n\r\n            // check for error response\r\n            if (!response.ok) {\r\n                // get error message from body or default to response status \r\n                const error = (data && data.message) || response.status;\r\n                window.alert(error)\r\n                return Promise.reject(error);\r\n            }\r\n            console.log(data)\r\n            setUser(data)\r\n            const postArray = data.Posts.sort((a, b) => b.Shits.length - a.Shits.length)\r\n            setPosts(postArray)\r\n            setSections(data.Sections)\r\n            const commentArray = data.Comments.sort((a, b) => b.Shits.length - a.Shits.length)\r\n            setComments(commentArray)\r\n            setShits(data.Shits)\r\n            setPostShits(shitCount(data.Posts))\r\n            setCommentShits(shitCount(data.Comments))\r\n        })\r\n        .catch(error => {\r\n            console.error('Error! ', error);\r\n        })\r\n    }\r\n\r\n\r\n\r\n    useEffect(() => {  \r\n        fetchData();\r\n\r\n    }, [props.viewFocus])\r\n\r\n    const shitCount = (userData) => {\r\n        let postShits = 0;\r\n        for(let i = 0; i < userData.length; i++){\r\n            const shits = userData[i].Shits.length\r\n            postShits += shits\r\n        }\r\n\r\n        return postShits;\r\n    }\r\n    \r\n    return(\r\n        <Container>\r\n            <Row className=\"pb-2\">\r\n                <h1>{user.displayName}'s Profile</h1>\r\n                <span className=\"ps-4\">{shits.length} shits given!</span>\r\n            </Row>\r\n            <Row>\r\n                <Col xs={12} sm={12} md={12} lg={6} xl={5}>\r\n                    <Row>\r\n                        <Col>\r\n                            <h2>Posts</h2>\r\n                        </Col>\r\n                        <Col>\r\n                            <span className=\"p-0\">{postShits} shits recieved on posts</span>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                    {(posts.length > 0 ) ?\r\n                        posts.map( post => \r\n                            <Card key={post.id+post.title}>\r\n                                <Card.Body>\r\n                                    <Row>\r\n                                            <Col xs={2} sm={2} md={2} lg={2} xl={2}>\r\n                                                <Shit shitFor={{type: 'post', id: post.id}} />\r\n                                            </Col>\r\n                                            <Col xs={10} sm={10} md={10} lg={9} xl={8} onClick={() => props.onFocusChange({type: 'post', name: post.title})}>\r\n                                                <Card.Title>{\r\n                                                    post.title.length > 125 ?\r\n                                                    post.title.substring(0, 125)+'...' :\r\n                                                    post.title\r\n                                                    }\r\n                                                </Card.Title>\r\n                                                <Card.Text>\r\n                                                {\r\n                                                    post.body.length > 125 ?\r\n                                                    post.body.substring(0, 125)+'...' :\r\n                                                    post.body\r\n                                                    }\r\n                                                </Card.Text>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                </Card.Body>\r\n                            </Card> \r\n                        ) : \"0 found\"}\r\n                </Col>\r\n                <Col xs={12} sm={12} md={6} lg={6} xl={4} className=\"pt-2\">\r\n                    <Row>\r\n                        <Col>\r\n                            <h2>Comment</h2>\r\n                        </Col>\r\n                        <Col>\r\n                            <span className=\"p-0\">{commentShits} shits recieved on comments</span>\r\n                        </Col>\r\n                    </Row>\r\n                            {(comments.length > 0 ) ?\r\n                    comments.map( comment => \r\n                        <Card key={comment.id+user.displayName} onClick={() => props.onFocusChange({type: 'post', name: comment.Post.title})}>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    <Col xs={2} sm={2} md={2} lg={2} xl={2}>\r\n                                        <Shit shitFor={{type: 'comment', id: comment.id}} />\r\n                                    </Col>\r\n                                    <Col xs={10} sm={10} md={10} lg={9} xl={8}>\r\n                                        <Card.Title>{\r\n                                            user.displayName.length > 125 ?\r\n                                            user.displayName.substring(0, 125)+'...' :\r\n                                            user.displayName\r\n                                            } on \r\n                                            \"{comment.Post?\r\n                                                (comment.Post.title.length > 125) ?\r\n                                                comment.Post.title.substring(0, 125)+'...' :\r\n                                                comment.Post.title\r\n                                                : \"\"}\r\n                                            {comment.parent ?\r\n                                                (comment.parent.body.length > 125) ?\r\n                                                comment.parent.body.substring(0, 125)+'...' :\r\n                                                comment.parent.body\r\n                                                : \"\"}\"\r\n                                        </Card.Title>\r\n                                        <Card.Text>\r\n                                            {comment.body}\r\n                                        </Card.Text>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Card> \r\n                ) : \"0 found\"}\r\n                    </Col>\r\n                <Col xs={12} sm={12} md={6} lg={6} xl={3} className=\"pt-2\">\r\n                    <h2>Sections</h2>\r\n                    {(sections.length > 0 ) ?\r\n                sections.map( section => \r\n                <Card key={section.id+section.title} onClick={() => props.onFocusChange({type: 'section', name: section.title})}>\r\n                    <Card.Body>\r\n                        <Card.Title>{\r\n                            section.title.length > 125 ?\r\n                            section.title.substring(0, 125)+'...' :\r\n                            section.title\r\n                            }\r\n                        </Card.Title>\r\n                        <Card.Text>\r\n                        {\r\n                            section.description.length > 125 ?\r\n                            section.description.substring(0, 125)+'...' :\r\n                            section.description\r\n                            }\r\n                        </Card.Text>\r\n                        </Card.Body>\r\n                    </Card> \r\n                    ) : \"0 found\" }      \r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default User","import React, { useState } from 'react';\nimport Header from './components/Header';\nimport Home from './components/Home'\nimport TopPosts from './components/TopPosts'\nimport NewPosts from './components/NewPosts'\nimport Search from './components/Search'\nimport SectionForm from './components/SectionForm'\nimport Section from './components/Section'\nimport PostForm from './components/PostForm';\nimport Post from './components/Post'\nimport User from './components/User'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport { clean } from 'unzalgo';\nimport {\n  Switch,\n  Route,\n  useHistory,\n  withRouter\n} from \"react-router-dom\";\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false)\n  const [focus, setFocus] = useState({type: \"menu\", name: \"Home\"})\n  const [memberSections, setMemberSections] = useState([])\n  const [search, setSearch] = useState(\"\")\n  const [defaultSection, setDefaultSection] = useState('')\n  const [userId, setUserId] = useState()\n  const history = useHistory();\n\n  const focusChangeHandler = (newFocus) => {\n    setFocus(newFocus)\n    newFocus.name === \"Home\" && history.push('/')\n    newFocus.name === \"Top Posts\"  && history.push('/top-posts')\n    newFocus.name === \"New Posts\" && history.push('/new-posts')\n    newFocus.name === \"Search\" && history.push('/search')\n    newFocus.name === \"Create a new section\"  && history.push('/create-new-section')\n    newFocus.name === \"Create a new post\" && history.push('/create-new-post')\n    newFocus.type === \"section\" && history.push('/section')\n    //newFocus.type === \"post\" && history.push('/post')\n    newFocus.type === \"user\" && history.push('/user')\n  }\n\n  const memberSectionsHandler = (sections) => {\n    setMemberSections(sections)\n  }\n\n  const searchHandler = (params) => {\n    const newParams = clean(params)\n    setSearch(newParams)\n  }\n\n  const defaultSectionHandler = (section) =>{\n    setDefaultSection(section)\n  }\n\n  const loginHandler = (id) => {\n    setIsLoggedIn(true)\n    setUserId(id)\n  }\n\n  const logoutHandler = () => {\n    setIsLoggedIn(false)\n    setUserId(null)\n    sessionStorage.clear()\n  }\n\n  console.log(history.location)\n  return (\n    <div className=\"App\">\n        <div className=\"container-fluid p-0\">\n          <Header memberSections={memberSections} viewFocus={focus} isLoggedIn={isLoggedIn} onLogin={loginHandler} onLogout={logoutHandler} onFocusChange={focusChangeHandler} onUpdateMemberSections={memberSectionsHandler} onSearch={searchHandler} />\n          <div className=\"container-fluid p-2\">\n            <Switch>\n              <Route exact path=\"/\"> \n                <Home viewFocus={focus} memberSections={memberSections} onFocusChange={focusChangeHandler} />\n              </Route>\n              <Route path=\"/top-posts\">\n                <TopPosts viewFocus={focus} memberSections={memberSections} onFocusChange={focusChangeHandler} />\n              </Route>\n              <Route path=\"/new-posts\">\n                <NewPosts viewFocus={focus} memberSections={memberSections} onFocusChange={focusChangeHandler} />\n              </Route>\n              <Route path=\"/search\">\n                <Search viewFocus={focus} onFocusChange={focusChangeHandler} search={search} />\n              </Route>\n              <Route path=\"/create-new-section\">\n                <SectionForm onFocusChange={focusChangeHandler} />\n              </Route>\n              <Route path=\"/create-new-post\">\n                <PostForm defaultSection={defaultSection} onFocusChange={focusChangeHandler} />\n              </Route>\n              <Route path=\"/section\">\n                <Section viewFocus={focus} isLoggedIn={isLoggedIn} userId={userId} onMakePost={defaultSectionHandler} onFocusChange={focusChangeHandler}/>\n              </Route>\n              <Route path=\"/post/:id\">\n                <Post viewFocus={focus} isLoggedIn={isLoggedIn} userId={userId} onFocusChange={focusChangeHandler}/>\n              </Route>\n              <Route path=\"/user\">\n                <User viewFocus={focus} isLoggedIn={isLoggedIn} userId={userId} onFocusChange={focusChangeHandler} />\n              </Route>\n            </Switch>\n          </div>\n        </div>\n    </div>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}